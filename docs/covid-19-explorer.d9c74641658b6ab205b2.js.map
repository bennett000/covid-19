{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/ui/global.css?00c0","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./src/ui/global.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./i18n lazy ^\\.\\/.*\\.json$ namespace object","webpack:///./node_modules/preact/dist/preact.module.js","webpack:///./node_modules/preact-router/dist/preact-router.es.js","webpack:///./src/constants.ts","webpack:///./src/utility.ts","webpack:///./src/ui/components/chart.tsx","webpack:///./src/ui/style.ts","webpack:///./node_modules/@ch1/utility/dist/utility.js","webpack:///./src/ui/components/input/select.tsx","webpack:///./src/ui/components/input/select-multiple.tsx","webpack:///./src/ui/components/input/date.tsx","webpack:///./src/ui/components/input/button.tsx","webpack:///./src/ui/components/input/string.tsx","webpack:///./src/ui/components/input/select-multiple-filter.tsx","webpack:///./src/ui/features/feature-time-vs-counts/time-vs-counts-controls.tsx","webpack:///./src/ui/components/input/button-toggle.tsx","webpack:///./src/ui/components/menu.tsx","webpack:///./src/ui/components/input/number.tsx","webpack:///./src/ui/components/seir.tsx","webpack:///./src/seir.ts","webpack:///./src/ui/features/feature-time-vs-counts/time-vs-counts.tsx","webpack:///./src/data/csv/csv.ts","webpack:///./src/data/csv/nyt-time-series.ts","webpack:///./src/data/country-data.ts","webpack:///./src/data/read-only.ts","webpack:///./src/data/time-series/time-series.ts","webpack:///./src/data/csv/jhu-time-series.ts","webpack:///./src/data/time-series/time-series-collection.ts","webpack:///./src/data/time-series/time-series-array.ts","webpack:///./src/data/js-charting/chart-events.ts","webpack:///./src/data/js-charting/js-charting-series.ts","webpack:///./src/data/js-charting/tooltip.ts","webpack:///./src/data/js-charting/seir-projection.ts","webpack:///./src/data/js-charting/chart-selector.ts","webpack:///./src/data.ts","webpack:///./src/ui/state.ts","webpack:///./src/ui/features/learning-table.tsx","webpack:///./src/ui/components/header.tsx","webpack:///./src/ui/features/confirmed-vs-recent.tsx","webpack:///./src/ui/components/map.tsx","webpack:///./src/ui/features/geography.tsx","webpack:///./src/ui/components/about-list.tsx","webpack:///./src/ui/features/about.tsx","webpack:///./src/ui/app-ui.tsx","webpack:///./src/i18n.ts","webpack:///./src/index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","api","content","default","options","exported","locals","memo","isOldIE","Boolean","window","document","all","atob","getTarget","target","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","stylesInDom","getIndexByIdentifier","identifier","result","length","modulesToDom","list","idCountMap","identifiers","item","id","base","count","concat","index","obj","css","media","sourceMap","references","updater","push","addStyle","insertStyleElement","style","createElement","attributes","nonce","keys","forEach","setAttribute","insert","Error","appendChild","textStore","replaceText","replacement","filter","join","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","btoa","unescape","encodeURIComponent","JSON","stringify","firstChild","singleton","singletonCounter","update","styleIndex","parentNode","removeStyleElement","newObj","lastIdentifiers","newList","toString","newLastIdentifiers","_i","_index","splice","___CSS_LOADER_API_IMPORT___","useSourceMap","this","map","cssMapping","sourceMapping","base64","data","sourceURLs","sources","source","sourceRoot","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","webpackAsyncContext","req","Promise","resolve","then","code","u","a","h","arguments","children","defaultProps","ref","type","props","__k","__","__b","__e","__d","__c","constructor","vnode","context","w","indexOf","g","k","debounceRendering","sort","__v","some","__P","A","__n","ownerSVGElement","T","b","f","y","_","nextSibling","D","j","Array","isArray","C","setProperty","test","N","replace","toLowerCase","slice","addEventListener","z","removeEventListener","removeAttributeNS","setAttributeNS","event","v","x","P","contextType","__E","render","E","sub","state","__h","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","__r","getChildContext","getSnapshotBeforeUpdate","nodeType","localName","createElementNS","is","dangerouslySetInnerHTML","__html","innerHTML","checked","$","diffed","current","unmount","componentWillUnmount","H","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","setTimeout","EMPTY$1","exec","url","route","opts","ret","reg","match","matches","split","decodeURIComponent","segmentize","max","Math","i$1","charAt","param","flags","plus","star","val","pathRankSort","rank","prepareVNodeForRanking","path","rankSegment","rankChild","segment","customHistory","ROUTERS","subscribers","EMPTY","getCurrentUrl","location","getCurrentLocation","pathname","search","canRoute","history","setUrl","routeTo","didRoute","routeFromLink","node","getAttribute","href","handleLinkClick","ctrlKey","metaKey","altKey","shiftKey","button","currentTarget","prevent","stopImmediatePropagation","stopPropagation","preventDefault","delegateLinkHandler","String","nodeName","toUpperCase","hasAttribute","eventListenersInitialized","Component$$1","Router","__proto__","static","onChange","getMatchingChildren","updating","this$1","unlisten","listen","invoke","newProps","ref$1","active","previous","previousUrl","router","Route","component","Link","onClick","reverseDeathProjectionDefaults","freeze","daysFromInfectionToDeath","doublingTime","fatalityRate","minDeaths","basePalette","projectionPalette","activeRanges","color","confirmedRanges","deathRanges","recoveryRanges","defaultCountries","isMobile","check","substr","navigator","userAgent","vendor","opera","log","args","console","filterStates","doFilter","strings","countries","total","createDate","Date","generateDateDictionary","day0","getTime","now","days","floor","dict","createYmdString","simplePad","number","date","getUTCFullYear","getUTCMonth","getUTCDate","cloneShallow","assign","super","fn","limit","isRunning","lastArgs","run","message","clearTimeout","debounce","chart","createChart","series","JSC","Chart","className","flexSize","borderCurved","displayBlock","fullSize","flex","flexCol","padding","textAlignLeft","styles","input","selectBox","deepFreeze","isObject","isFrozen","isBoolean","arg","isNumber","thing","isString","noop","objEach","callback","objReduce","init","reduce","Select","classes","selected","option","SelectMultiple","optClick","results","opt","selectedOptionsToArray","multiple","InputDate","ymdString","Button","isDisabled","label","disabled","InputString","listenKeyUp","placeholder","change","onKeyUp","getOptions","SelectMultipleFilter","givenClasses","inputStringClasses","onUpdateFilter","inputButtonClasses","onClear","inputSelectClasses","onDeselect","TimeVsCountsControls","clearCountries","countryKeys","onConfigureSeir","onUpdateCountryFilter","reload","selectCountry","selectCountries","dataSets","activeCases","confirmedCases","deaths","recoveries","newConfirmed","newDeaths","estimatedActiveCases","projectionSeirActive","projectionSeirDeaths","projectionSeirRecoveries","modes","byDate","byFirst","byFirst100","scaleTypes","linear","logarithmic","showStates","states","metrics","byValue","byPercent","parseInt","scaleType","startDate","timeVsCounts","configureSeir","dataSetIndexes","countryFilter","showOrHide","metric","byMetric","ButtonToggle","labelFalse","labelTrue","Menu","config","disable","labels","InputNumber","useDecimals","parse","parseFloat","pattern","InputSeir","seirInput","gt0","percent","prop","unit","decimals","unitDays","row","undefined","cell","Integrators","Euler","Midpoint","Heun","Ralston","K3","SSP33","SSP43","RK4","RK38","integrate","model","initialState","time","timeStep","localState","dt","ki","I0","initialDeaths","R0","r0","incubationPeriod","durationOfInfection","recoveryTimeForMildCases","timeFromIncubationToHospital","timeFromIncubationToDeath","lengthOfSevereHospitalStay","hospitalizationRate","population","beta","gamma","S","I","Mild","Severe","Severe_H","Fatal","D_death","solutionLength","onStep","steps","method","dayCount","TI","Iters","day","total_infected","dIters","showSeirState","isConfigOpen","onSeirStateChange","xAxis_label_text","useDays","xAxis","scale","customTicks","month","label_text","week","yAxis_label_text","people","yAxis","legend","template","currentSeries","enlarge","configure","toggleConfig","menu","configureChart","resetSeir","onChangeSeir","daysToProject","seirState","setCountryFilter","hasHeader","string","headerStrings","newLine","parsedData","csvRow","chars","buffer","isEscape","isInQuote","toggleEscape","arr","el","splitString","rowStringToArray","codesToStates","countriesToCodes","countriesToContinents","historicalEventsByCountry","mapJhuCountryToPop","statesToCodes","populationDictionary","country","populationDensityDictionary","density","getPopulation","getStatePopulation","getPopulationDensity","populationDensity","createTimeSeriesCount","confirmed","projectionReverseDeath","lsData","lastActive","lastValue","lastActivePercent","lastPercent","lastConfirmed","lastConfirmedPercent","lastDeaths","lastDeathsPercent","lastRecoveries","lastRecoveriesPercent","lastNewConfirmed","lastNewDeaths","peakActive","peakValue","peakActivePercent","peakPercent","peakConfirmed","peakConfirmedPercent","peakDeaths","peakDeathsPercent","peakRecoveries","peakRecoveriesPercent","peakNewConfirmed","peakNewDeaths","counts","getProp","dates","countryCode","stateCode","locationSeries","next","div","tsc","predicate","forEachDay","datesData","countsData","parsed","dictionary","hasInterpolated","hasSummedRegions","hasSummedWorld","lsd","csv","timeSeriesDict","rows","US","keyFromUsState","nytRowsToDict","sortNytRows","byState","byTime","dateDict","timeSeriesIndex","dateString","last","convertNytTimeSeriesDictToStateDict","convertNytCsvToStructured","locationSeriesDictionaryToTimeSeriesDictionary","CA","manuallyAdjustJhu","csvs","createOnEach","onEachRow","createFromJhuCsvs","TypeError","collections","newData","ts","clone","world","worldString","ds","totalsString","addCounts","totalKey","tcs","_date","rdays","rprev","diff","getRecoveryDays","numberOfCasesCausingDeath","numberOfDoubles","pow","reverseDeathProjection","interpolate","sumAllRegions","sumAllWorld","initialResult","usaCode","tsd","ls","TimeSeriesArray","sortByActive","sortByProp","sortByActivePercent","sortByConfirmed","sortByNewConfirmed","sortByPeakNewConfirmed","sortByConfirmedPercent","sortByPeakActive","sortByPeakActivePercent","sortByPeakConfirmed","sortByPeakConfirmedPercent","sortByDeaths","sortByNewDeaths","sortByPeakNewDeaths","sortByMortality","sortByDeathsPercent","sortByPopulation","sortByPopulationDensity","sortByRecoveries","sortByRecoveriesPercent","sortByPeakDeaths","sortByPeakMortality","sortByPeakDeathsPercent","sortByPeakPopulation","sortByPeakRecoveries","sortByPeakRecoveriesPercent","asc","getEventFrom","historicalEvents","getEventMarker","colour","marker","size","buildJsChartingSeries","points","createJsChartingSeriesData","seriesBuilder","addPoint","spreadIn","setProp","collect","createToolTip","dataSetIndex","fromDay0","isProjection","fp","num","toFixed","toLocaleString","header","formatName","toLocaleDateString","getUTCDay","footer","description","getEventTooltip","createSeirPoints","seir","start","solution","getSolution","lastR0","deduceLastR0","timeSeries","depth","secondLast","abs","Infinity","___","____","newCounts","newDates","lastCount","lastDate","projectionTs","cloneAndAppend","tooltip","timeSeriesCollection","select","selectConfirmedVsRecentCountry","findStart","timeVsCountsState","field","getFieldFromIndex","chartBuilder","getChartTypeFromIndex","lineColour","modeCount","seirPoints","seirSeries","projections","getSeirSeries","createSelectTimeVsCountsChart","getY","forEachDayWhere","createSelectTimeVsCountsCountryMapper","flatten","routePath","selectTimeVsCounts","selectConfirmedVsRecent","recentDaysAgo","jhuUrls","fetchData","fetch","unwrapResponses","jhuStringsToCsvs","from","unwrapResponse","merge","interpolateRecoveriesActiveCasesAndNewProps","sumRegions","sumWorld","extractCountries","response","text","responses","collection","tsa","loadState","localStorage","getItem","isDataType","dataTypeAppState","wipingOld","setItem","dataPromise","parseFail","dataTypeSavedTimeVsCountsState","dataTypeSavedTableState","dataTypeInputSeirSavedState","pi","thClasses","tdClasses","formatDecimal","showAll","column","columns","learningTable","titles","region","activePercent","confirmedPercent","deathsPercent","recoveriesPercent","mortality","lastMortality","peakMortality","tbody","body","clientHeight","width","clickHeader","tsIndex","rowParity","rowHighlight","onChangeColumns","toggleShowAll","showOnlySelected","Header","class","title","jhuGitHubTitle","jhuSourceDataLink","explorer","usData","usDataTitle","usDataLink","sourceCodeTitle","sourceCodeLink","feedbackTitle","feedbackLink","confirmedVsRecent","recentCases","selectShowStates","getChartOptions","title_label_text","defaultPoint","toolTip","palette","pointValue","ranges","excludeFromMap","AG","BB","BH","CV","DM","GD","KN","LC","MT","MU","MV","PO","TL","SC","SG","VC","dataSet","isPlaying","menuProp","timer","getSeries","getCountrySeries","currentOptions","properties","mapcode","continent","getSeriesName","geography","mode0","mode1","mode2","mode3","getMapTitle","setInterval","togglePlay","clearInterval","countryFromClick","getStateSeries","tryContinent","continentFromClick","finalContinent","getContinentSeries","record","getFromDataSet","getRangesFromDataSet","defaultPoint_events_click","onMapClick","isIn","int","zoomOut","onChangeDataSet","play","stop","AboutList","definitionsSeries","descriptions","part1","link","part2","projectionSeir","definitionsMetrics","byPercet","definitionsModes","definitionsScales","scales","app","noState","tableState","confirmedVsRecentState","selectAndUpdate","cache","updateSelectState","saveState","tvc","cvr","reset","countryKey","defaultLanguage","convertJsonToInjectedJson","set","main","lang","getSavedLanguage","getLanguage","element","errors","bootstrap","root","catch","language","i18n","reject"],"mappings":"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","file":"covid-19-explorer.d9c74641658b6ab205b2.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./global.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".border-curved {\\n  border: 1px solid #aaa;\\n  box-shadow: 0 1px 0 1px rgba(0, 0, 0, 0.04);\\n  border-radius: 0.5em;\\n}\\n.flex {\\n  display: flex;\\n}\\n.flex-col {\\n  flex-direction: column;\\n}\\n.w-2-em {\\n  width: 2em;\\n}\\n.flex-item-95 {\\n  flex: 0 0 88%;\\n}\\n.flex-item-60 {\\n  flex: 0 0 60%;\\n}\\n.flex-item-20 {\\n  flex: 0 0 20%;\\n}\\n.flex-item-5 {\\n  flex: 0 0 5%;\\n}\\n.full-size {\\n  width: 100%;\\n  height: 100%;\\n}\\n.green {\\n  background-color: #22cc77;\\n}\\n.highlight {\\n  border-radius: 7px;\\n  border-width: 3px;\\n  border-color: #22cc77;\\n  border-style: solid;\\n}\\n.padding {\\n  padding: 0.6em 1.4em 0.5em 0.8em;\\n}\\n.row-even {\\n  background-color: #cceeff;\\n}\\n.row-odd {\\n  background-color: #ffeeff;\\n}\\n.row-highlight {\\n  background-color: #ffffbb;\\n}\\n.ui-text {\\n  margin: 2px;\\n  font-size: 1.3em;\\n}\\n.small-text {\\n  font-size: 0.85em;\\n}\\n.border-collapse {\\n  border-collapse: collapse;\\n}\\n.display-block {\\n  display: block;\\n}\\n.text-align-left {\\n  text-align: left;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","var map = {\n\t\"./en.json\": 1\n};\n\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\tvar id = map[req];\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 15;\nmodule.exports = webpackAsyncContext;","var n,l,u,i,t,o,r,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function h(n,l,u){var i,t=arguments,o={};for(i in l)\"key\"!==i&&\"ref\"!==i&&(o[i]=l[i]);if(arguments.length>3)for(u=[u],i=3;i<arguments.length;i++)u.push(t[i]);if(null!=u&&(o.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(i in n.defaultProps)void 0===o[i]&&(o[i]=n.defaultProps[i]);return p(n,o,l&&l.key,l&&l.ref)}function p(l,u,i,t){var o={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return n.vnode&&n.vnode(o),o}function y(){return{}}function d(n){return n.children}function m(n,l){this.props=n,this.context=l}function w(n,l){if(null==l)return n.__?w(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?w(n):null}function g(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return g(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!i++||o!==n.debounceRendering)&&((o=n.debounceRendering)||t)(_)}function _(){for(var n;i=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],i=A(r,t,a({},t),l.__n,void 0!==r.ownerSVGElement,null,u,null==o?w(t):o),T(u,t),i!=o&&g(t)))})}function b(n,l,u,i,t,o,r,f,s){var a,h,p,y,d,m,g,k=u&&u.__k||c,_=k.length;if(f==e&&(f=null!=o?o[0]:_?w(u,0):null),a=0,l.__k=x(l.__k,function(u){if(null!=u){if(u.__=l,u.__b=l.__b+1,null===(p=k[a])||p&&u.key==p.key&&u.type===p.type)k[a]=void 0;else for(h=0;h<_;h++){if((p=k[h])&&u.key==p.key&&u.type===p.type){k[h]=void 0;break}p=null}if(y=A(n,u,p=p||e,i,t,o,r,f,s),(h=u.ref)&&p.ref!=h&&(g||(g=[]),p.ref&&g.push(p.ref,null,u),g.push(h,u.__c||y,u)),null!=y){var c;if(null==m&&(m=y),void 0!==u.__d)c=u.__d,u.__d=void 0;else if(o==p||y!=f||null==y.parentNode){n:if(null==f||f.parentNode!==n)n.appendChild(y),c=null;else{for(d=f,h=0;(d=d.nextSibling)&&h<_;h+=2)if(d==y)break n;n.insertBefore(y,f),c=f}\"option\"==l.type&&(n.value=\"\")}f=void 0!==c?c:y.nextSibling,\"function\"==typeof l.type&&(l.__d=f)}else f&&p.__e==f&&f.parentNode!=n&&(f=w(p))}return a++,u}),l.__e=m,null!=o&&\"function\"!=typeof l.type)for(a=o.length;a--;)null!=o[a]&&v(o[a]);for(a=_;a--;)null!=k[a]&&D(k[a],k[a]);if(g)for(a=0;a<g.length;a++)j(g[a],g[++a],g[++a])}function x(n,l,u){if(null==u&&(u=[]),null==n||\"boolean\"==typeof n)l&&u.push(l(null));else if(Array.isArray(n))for(var i=0;i<n.length;i++)x(n[i],l,u);else u.push(l?l(\"string\"==typeof n||\"number\"==typeof n?p(null,n,null,null):null!=n.__e||null!=n.__c?p(n.type,n.props,n.key,null):n):n);return u}function P(n,l,u,i,t){var o;for(o in u)o in l||N(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"value\"===o||\"checked\"===o||u[o]===l[o]||N(n,o,l[o],u[o],i)}function C(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=\"number\"==typeof u&&!1===s.test(l)?u+\"px\":null==u?\"\":u}function N(n,l,u,i,t){var o,r,f,e,c;if(t?\"className\"===l&&(l=\"class\"):\"class\"===l&&(l=\"className\"),\"key\"===l||\"children\"===l);else if(\"style\"===l)if(o=n.style,\"string\"==typeof u)o.cssText=u;else{if(\"string\"==typeof i&&(o.cssText=\"\",i=null),i)for(r in i)u&&r in u||C(o,r,\"\");if(u)for(f in u)i&&u[f]===i[f]||C(o,f,u[f])}else\"o\"===l[0]&&\"n\"===l[1]?(e=l!==(l=l.replace(/Capture$/,\"\")),c=l.toLowerCase(),l=(c in n?c:l).slice(2),u?(i||n.addEventListener(l,z,e),(n.l||(n.l={}))[l]=u):n.removeEventListener(l,z,e)):\"list\"!==l&&\"tagName\"!==l&&\"form\"!==l&&\"type\"!==l&&\"size\"!==l&&!t&&l in n?n[l]=null==u?\"\":u:\"function\"!=typeof u&&\"dangerouslySetInnerHTML\"!==l&&(l!==(l=l.replace(/^xlink:?/,\"\"))?null==u||!1===u?n.removeAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase()):n.setAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase(),u):null==u||!1===u&&!/^ar/.test(l)?n.removeAttribute(l):n.setAttribute(l,u))}function z(l){this.l[l.type](n.event?n.event(l):l)}function A(l,u,i,t,o,r,f,e,c){var s,v,h,p,y,w,g,k,_,x,P=u.type;if(void 0!==u.constructor)return null;(s=n.__b)&&s(u);try{n:if(\"function\"==typeof P){if(k=u.props,_=(s=P.contextType)&&t[s.__c],x=s?_?_.props.value:s.__:t,i.__c?g=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(k,x):(u.__c=v=new m(k,x),v.constructor=P,v.render=E),_&&_.sub(v),v.props=k,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=a({},v.__s)),a(v.__s,P.getDerivedStateFromProps(k,v.__s))),p=v.props,y=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&k!==p&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(k,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(k,v.__s,x)){for(v.props=k,v.state=v.__s,v.__d=!1,v.__v=u,u.__e=i.__e,u.__k=i.__k,v.__h.length&&f.push(v),s=0;s<u.__k.length;s++)u.__k[s]&&(u.__k[s].__=u);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(k,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(p,y,w)})}v.context=x,v.props=k,v.state=v.__s,(s=n.__r)&&s(u),v.__d=!1,v.__v=u,v.__P=l,s=v.render(v.props,v.state,v.context),u.__k=null!=s&&s.type==d&&null==s.key?s.props.children:Array.isArray(s)?s:[s],null!=v.getChildContext&&(t=a(a({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(w=v.getSnapshotBeforeUpdate(p,y)),b(l,u,i,t,o,r,f,e,c),v.base=u.__e,v.__h.length&&f.push(v),g&&(v.__E=v.__=null),v.__e=!1}else u.__e=$(i.__e,u,i,t,o,r,f,c);(s=n.diffed)&&s(u)}catch(l){n.__e(l,u,i)}return u.__e}function T(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function $(n,l,u,i,t,o,r,f){var s,a,v,h,p,y=u.props,d=l.props;if(t=\"svg\"===l.type||t,null!=o)for(s=0;s<o.length;s++)if(null!=(a=o[s])&&((null===l.type?3===a.nodeType:a.localName===l.type)||n==a)){n=a,o[s]=null;break}if(null==n){if(null===l.type)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",l.type):document.createElement(l.type,d.is&&{is:d.is}),o=null}if(null===l.type)y!==d&&n.data!=d&&(n.data=d);else if(l!==u){if(null!=o&&(o=c.slice.call(n.childNodes)),v=(y=u.props||e).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!f){if(y===e)for(y={},p=0;p<n.attributes.length;p++)y[n.attributes[p].name]=n.attributes[p].value;(h||v)&&(h&&v&&h.__html==v.__html||(n.innerHTML=h&&h.__html||\"\"))}P(n,d,y,t,f),l.__k=l.props.children,h||b(n,l,u,i,\"foreignObject\"!==l.type&&t,o,r,e,f),f||(\"value\"in d&&void 0!==d.value&&d.value!==n.value&&(n.value=null==d.value?\"\":d.value),\"checked\"in d&&void 0!==d.checked&&d.checked!==n.checked&&(n.checked=d.checked))}return n}function j(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function D(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||j(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&D(t[r],u,i);null!=o&&v(o)}function E(n,l,u){return this.constructor(n,u)}function H(l,u,i){var t,o,f;n.__&&n.__(l,u),o=(t=i===r)?null:i&&i.__k||u.__k,l=h(d,null,[l]),f=[],A(u,(t?u:i||u).__k=l,o||e,e,void 0!==u.ownerSVGElement,i&&!t?[i]:o?null:c.slice.call(u.childNodes),f,i||e,t),T(f,l)}function I(n,l){H(n,l,r)}function L(n,l){return l=a(a({},n.props),l),arguments.length>2&&(l.children=c.slice.call(arguments,2)),p(n.type,l,l.key||n.key,l.ref||n.ref)}function M(n){var l={},u={__c:\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var i,t=this;return this.getChildContext||(i=[],this.getChildContext=function(){return l[u.__c]=t,l},this.shouldComponentUpdate=function(l){n.value!==l.value&&i.some(function(n){n.context=l.value,k(n)})},this.sub=function(n){i.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){i.splice(i.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Consumer.contextType=u,u}n={__e:function(n,l){for(var u,i;l=l.__;)if((u=l.__c)&&!u.__)try{if(u.constructor&&null!=u.constructor.getDerivedStateFromError&&(i=!0,u.setState(u.constructor.getDerivedStateFromError(n))),null!=u.componentDidCatch&&(i=!0,u.componentDidCatch(n)),i)return k(u.__E=u)}catch(l){n=l}throw n}},l=function(n){return null!=n&&void 0===n.constructor},m.prototype.setState=function(n,l){var u;u=this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(u,this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},m.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},m.prototype.render=d,u=[],i=0,t=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,r=e,f=0;export{H as render,I as hydrate,h as createElement,h,d as Fragment,y as createRef,l as isValidElement,m as Component,L as cloneElement,M as createContext,x as toChildArray,D as _unmount,n as options};\n//# sourceMappingURL=preact.module.js.map\n","import { Component, cloneElement, createElement, toChildArray } from 'preact';\n\nvar EMPTY$1 = {};\n\nfunction assign(obj, props) {\n\t// eslint-disable-next-line guard-for-in\n\tfor (var i in props) {\n\t\tobj[i] = props[i];\n\t}\n\treturn obj;\n}\n\nfunction exec(url, route, opts) {\n\tvar reg = /(?:\\?([^#]*))?(#.*)?$/,\n\t\tc = url.match(reg),\n\t\tmatches = {},\n\t\tret;\n\tif (c && c[1]) {\n\t\tvar p = c[1].split('&');\n\t\tfor (var i=0; i<p.length; i++) {\n\t\t\tvar r = p[i].split('=');\n\t\t\tmatches[decodeURIComponent(r[0])] = decodeURIComponent(r.slice(1).join('='));\n\t\t}\n\t}\n\turl = segmentize(url.replace(reg, ''));\n\troute = segmentize(route || '');\n\tvar max = Math.max(url.length, route.length);\n\tfor (var i$1=0; i$1<max; i$1++) {\n\t\tif (route[i$1] && route[i$1].charAt(0)===':') {\n\t\t\tvar param = route[i$1].replace(/(^:|[+*?]+$)/g, ''),\n\t\t\t\tflags = (route[i$1].match(/[+*?]+$/) || EMPTY$1)[0] || '',\n\t\t\t\tplus = ~flags.indexOf('+'),\n\t\t\t\tstar = ~flags.indexOf('*'),\n\t\t\t\tval = url[i$1] || '';\n\t\t\tif (!val && !star && (flags.indexOf('?')<0 || plus)) {\n\t\t\t\tret = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatches[param] = decodeURIComponent(val);\n\t\t\tif (plus || star) {\n\t\t\t\tmatches[param] = url.slice(i$1).map(decodeURIComponent).join('/');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if (route[i$1]!==url[i$1]) {\n\t\t\tret = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (opts.default!==true && ret===false) { return false; }\n\treturn matches;\n}\n\nfunction pathRankSort(a, b) {\n\treturn (\n\t\t(a.rank < b.rank) ? 1 :\n\t\t\t(a.rank > b.rank) ? -1 :\n\t\t\t\t(a.index - b.index)\n\t);\n}\n\n// filter out VNodes without attributes (which are unrankeable), and add `index`/`rank` properties to be used in sorting.\nfunction prepareVNodeForRanking(vnode, index) {\n\tvnode.index = index;\n\tvnode.rank = rankChild(vnode);\n\treturn vnode.props;\n}\n\nfunction segmentize(url) {\n\treturn url.replace(/(^\\/+|\\/+$)/g, '').split('/');\n}\n\nfunction rankSegment(segment) {\n\treturn segment.charAt(0)==':' ? (1 + '*+?'.indexOf(segment.charAt(segment.length-1))) || 4 : 5;\n}\n\nfunction rank(path) {\n\treturn segmentize(path).map(rankSegment).join('');\n}\n\nfunction rankChild(vnode) {\n\treturn vnode.props.default ? 0 : rank(vnode.props.path);\n}\n\nvar customHistory = null;\n\nvar ROUTERS = [];\n\nvar subscribers = [];\n\nvar EMPTY = {};\n\nfunction setUrl(url, type) {\n\tif ( type === void 0 ) type='push';\n\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tvar url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn (\"\" + (url.pathname || '') + (url.search || ''));\n}\n\n\n\nfunction route(url, replace) {\n\tif ( replace === void 0 ) replace=false;\n\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (var i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) { return true; }\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tvar didRoute = false;\n\tfor (var i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (var i$1=subscribers.length; i$1--; ) {\n\t\tsubscribers[i$1](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) { return; }\n\n\tvar href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) { return; }\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) { return; }\n\trouteFromLink(e.currentTarget || e.target || this);\n\treturn prevent(e);\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) { e.stopImmediatePropagation(); }\n\t\tif (e.stopPropagation) { e.stopPropagation(); }\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) { return; }\n\n\tvar t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href')) {\n\t\t\tif (t.hasAttribute('native')) { return; }\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nvar eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) { return; }\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', function () {\n\t\t\t\trouteTo(getCurrentUrl());\n\t\t\t});\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nvar Router = (function (Component$$1) {\n\tfunction Router(props) {\n\t\tComponent$$1.call(this, props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tif ( Component$$1 ) Router.__proto__ = Component$$1;\n\tRouter.prototype = Object.create( Component$$1 && Component$$1.prototype );\n\tRouter.prototype.constructor = Router;\n\n\tRouter.prototype.shouldComponentUpdate = function shouldComponentUpdate (props) {\n\t\tif (props.static!==true) { return true; }\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t};\n\n\t/** Check if the given URL can be matched against any children */\n\tRouter.prototype.canRoute = function canRoute (url) {\n\t\tvar children = toChildArray(this.props.children);\n\t\treturn this.getMatchingChildren(children, url, false).length > 0;\n\t};\n\n\t/** Re-render children with a new URL to match against. */\n\tRouter.prototype.routeTo = function routeTo (url) {\n\t\tthis.setState({ url: url });\n\n\t\tvar didRoute = this.canRoute(url);\n\n\t\t// trigger a manual re-route if we're not in the middle of an update:\n\t\tif (!this.updating) { this.forceUpdate(); }\n\n\t\treturn didRoute;\n\t};\n\n\tRouter.prototype.componentWillMount = function componentWillMount () {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t};\n\n\tRouter.prototype.componentDidMount = function componentDidMount () {\n\t\tvar this$1 = this;\n\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen(function (location) {\n\t\t\t\tthis$1.routeTo((\"\" + (location.pathname || '') + (location.search || '')));\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t};\n\n\tRouter.prototype.componentWillUnmount = function componentWillUnmount () {\n\t\tif (typeof this.unlisten==='function') { this.unlisten(); }\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t};\n\n\tRouter.prototype.componentWillUpdate = function componentWillUpdate () {\n\t\tthis.updating = true;\n\t};\n\n\tRouter.prototype.componentDidUpdate = function componentDidUpdate () {\n\t\tthis.updating = false;\n\t};\n\n\tRouter.prototype.getMatchingChildren = function getMatchingChildren (children, url, invoke) {\n\t\treturn children\n\t\t\t.filter(prepareVNodeForRanking)\n\t\t\t.sort(pathRankSort)\n\t\t\t.map( function (vnode) {\n\t\t\t\tvar matches = exec(url, vnode.props.path, vnode.props);\n\t\t\t\tif (matches) {\n\t\t\t\t\tif (invoke !== false) {\n\t\t\t\t\t\tvar newProps = { url: url, matches: matches };\n\t\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\t\tdelete newProps.ref;\n\t\t\t\t\t\tdelete newProps.key;\n\t\t\t\t\t\treturn cloneElement(vnode, newProps);\n\t\t\t\t\t}\n\t\t\t\t\treturn vnode;\n\t\t\t\t}\n\t\t\t}).filter(Boolean);\n\t};\n\n\tRouter.prototype.render = function render (ref, ref$1) {\n\t\tvar children = ref.children;\n\t\tvar onChange = ref.onChange;\n\t\tvar url = ref$1.url;\n\n\t\tvar active = this.getMatchingChildren(toChildArray(children), url, true);\n\n\t\tvar current = active[0] || null;\n\n\t\tvar previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl: url,\n\t\t\t\t\tprevious: previous,\n\t\t\t\t\tactive: active,\n\t\t\t\t\tcurrent: current\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t};\n\n\treturn Router;\n}(Component));\n\nvar Link = function (props) { return (\n\tcreateElement('a', assign({ onClick: handleLinkClick }, props))\n); };\n\nvar Route = function (props) { return createElement(props.component, props); };\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\nRouter.exec = exec;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link, exec };export default Router;\n//# sourceMappingURL=preact-router.es.js.map\n","export const twentyFourSeven = 24 * 60 * 60 * 1000;\nexport const recoveryDays = 25;\nexport const jhuStartDay = '2020-01-22';\nexport const reverseDeathProjectionDefaults = Object.freeze({\n    daysFromInfectionToDeath: 17.3,\n    doublingTime: 6.18,\n    fatalityRate: 0.0087,\n    minDeaths: 10,\n});\nexport const usaCode = 'US';\nexport const basePalette = [\n    '#e01010',\n    '#067ff1',\n    '#5adc13',\n    '#14f8e5',\n    '#e30ed6',\n    '#ff6600',\n    '#ece019',\n    '#590596',\n];\nexport const projectionPalette = [\n    '#f09090',\n    '#add0f1',\n    '#b5dc9f',\n    '#b7f8f3',\n    '#e3c1e1',\n    '#ffc6a0',\n    '#ece79c',\n    '#9e8dce',\n];\nexport const activeRanges = [\n    { value: [0, 1], color: '#FFFFFF' },\n    { value: [0, 100], color: '#fff5f5' },\n    { value: [100, 1000], color: '#ffdcdc' },\n    { value: [1000, 5000], color: '#ffa0a0' },\n    { value: [5000, 15000], color: '#ff7373' },\n    { value: [15000, 50000], color: '#ff4b4b' },\n    { value: [50000, 150000], color: '#ff1919' },\n    { value: [150000, 5000000000], color: '#c60000' },\n];\nexport const confirmedRanges = [\n    { value: [0, 1], color: '#FFFFFF' },\n    { value: [0, 500], color: '#fff5f5' },\n    { value: [500, 5000], color: '#ffdcdc' },\n    { value: [5000, 15000], color: '#ffa0a0' },\n    { value: [15000, 50000], color: '#ff7373' },\n    { value: [50000, 150000], color: '#ff4b4b' },\n    { value: [150000, 500000], color: '#ff1919' },\n    { value: [500000, 5000000000], color: '#c60000' },\n];\nexport const deathRanges = [\n    { value: [0, 1], color: '#FFFFFF' },\n    { value: [0, 50], color: '#fff5f5' },\n    { value: [50, 150], color: '#ffdcdc' },\n    { value: [150, 500], color: '#ffa0a0' },\n    { value: [500, 1500], color: '#ff7373' },\n    { value: [1500, 10000], color: '#ff4b4b' },\n    { value: [10000, 50000], color: '#ff1919' },\n    { value: [50000, 5000000000], color: '#c60000' },\n];\nexport const recoveryRanges = [\n    { value: [0, 1], color: '#FFFFFF' },\n    { value: [1, 500], color: '#f0fff0' },\n    { value: [500, 5000], color: '#dcffdc' },\n    { value: [5000, 50000], color: '#beffbe' },\n    { value: [50000, 250000], color: '#a0ffa0' },\n    { value: [250000, 1000000], color: '#78ff78' },\n    { value: [1000000, 5000000], color: '#41ff41' },\n    { value: [5000000, 5000000000], color: '#009900' },\n];\nexport const defaultDataset = 0;\nexport const defaultCountries = [];\nexport const defaultMode = 2;\nexport const defaultStart = jhuStartDay;\nexport const defaultScaleType = 0;\nexport const defaultShowStates = false;\nexport const defaultDaysToProject = 18;\nexport const backslash = '\\\\';\nexport const comma = ',';\nexport const doubleQuote = '\"';\nexport const newLine = '\\n';\n","import { jhuStartDay, twentyFourSeven } from './constants';\nexport function isMobile() {\n    let check = false;\n    (function (a) {\n        if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) ||\n            /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4)))\n            check = true;\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n}\nexport function log(...args) {\n    console.log('COVID-19', ...args);\n}\nexport function filterStates(doFilter, strings) {\n    return (item) => {\n        if (doFilter === false) {\n            return true;\n        }\n        // special case for Korea\n        if (item.name.toLowerCase().indexOf('korea') > -1) {\n            return true;\n        }\n        if (item.name.indexOf(',') > -1) {\n            if (item.name.indexOf(`, ${strings.countries.total}`) > -1) {\n                return true;\n            }\n            return false;\n        }\n        return true;\n    };\n}\nexport function createDate(value) {\n    return new Date(value);\n}\nexport function generateDateDictionary() {\n    const day0 = createDate(jhuStartDay).getTime();\n    const now = Date.now() - twentyFourSeven;\n    const days = Math.floor((now - day0) / 1000 / 60 / 60 / 24);\n    const dict = {};\n    for (let i = 0; i < days; i += 1) {\n        const today = createDate(day0 + i * twentyFourSeven);\n        dict[createYmdString(today)] = i;\n    }\n    return dict;\n}\nfunction simplePad(number) {\n    if (number < 10) {\n        return '0' + number;\n    }\n    return number + '';\n}\nexport function createYmdString(date) {\n    const year = date.getUTCFullYear();\n    const month = simplePad(date.getUTCMonth() + 1);\n    const day = simplePad(date.getUTCDate());\n    return `${year}-${month}-${day}`;\n}\nexport function cloneShallow(c) {\n    return Object.assign({}, c);\n}\n","import { Component, h } from 'preact';\nimport { log } from '../../utility';\nexport class Chart extends Component {\n    constructor() {\n        super();\n        this.componentWillReceiveProps = debounce(props => {\n            this.chart = null;\n            this.createChart(props);\n        });\n    }\n    createChart(props = this.props) {\n        if (!this.chart && props.options.series.length) {\n            this.chart = JSC.Chart('chartDiv', props.options);\n        }\n    }\n    componentDidMount() {\n        this.base.id = 'chartDiv';\n        this.createChart();\n    }\n    render() {\n        return h(\"div\", { className: this.props.flexSize });\n    }\n}\nfunction debounce(fn, limit = 50) {\n    let isRunning = 0;\n    let lastArgs = [];\n    const run = () => {\n        try {\n            fn(...lastArgs);\n        }\n        catch (e) {\n            log('Warning debounced function failed: ' + e.message);\n        }\n        finally {\n            isRunning = 0;\n            lastArgs = [];\n        }\n    };\n    return (...args) => {\n        lastArgs = args;\n        if (isRunning) {\n            clearTimeout(isRunning);\n            isRunning = setTimeout(run, limit);\n        }\n        else {\n            isRunning = setTimeout(run, limit);\n        }\n    };\n}\n","export const borderCurved = 'border-curved';\nexport const displayBlock = 'display-block';\nexport const fullSize = 'full-size';\nexport const flex = 'flex';\nexport const flexCol = 'flex flex-col';\nexport const flexItem5 = 'flex-item-5';\nexport const flexItem20 = 'flex-item-20';\nexport const flexItem60 = 'flex-item-60';\nexport const flexItem95 = 'flex-item-95';\nexport const green = 'green';\nexport const highlight = 'highlight';\nexport const padding = 'padding';\nexport const rowEven = 'row-even';\nexport const rowOdd = 'row-odd';\nexport const rowHighlight = 'row-highlight';\nexport const tableBorderCollapse = 'border-collapse';\nexport const textAlignLeft = 'text-align-left';\nexport const uiText = 'ui-text';\nexport const width2em = 'w-2-em';\nexport const styles = Object.freeze({\n    button: [borderCurved, padding, uiText],\n    input: [borderCurved, padding, uiText],\n    selectBox: [borderCurved, padding, uiText],\n});\n","export function arrToObj(arr, prop, aggregate) {\n    return arr.reduce((state, el, i) => {\n        let index;\n        if (!prop) {\n            index = i;\n        }\n        else {\n            index = el[prop];\n        }\n        if (aggregate) {\n            if (!state[index]) {\n                state[index] = [];\n            }\n            state[index].push(el);\n        }\n        else {\n            state[index] = el;\n        }\n        return state;\n    }, {});\n}\n/** assumes number is between 0 - 1 inclusive of 0 but not 1 */\nexport function createBetween(random) {\n    return (minimum, maximum) => {\n        const min = Math.ceil(minimum);\n        const max = Math.floor(maximum);\n        return Math.floor(random() * (max - min)) + min;\n    };\n}\nexport function deepFreeze(obj) {\n    if (Array.isArray(obj)) {\n        return Object.freeze(obj.map(deepFreeze));\n    }\n    if (isObject(obj)) {\n        for (let i in obj) {\n            if (isObject(obj[i])) {\n                if (!Object.isFrozen(obj[i])) {\n                    obj[i] = deepFreeze(obj[i]);\n                }\n            }\n        }\n    }\n    return Object.freeze(obj);\n}\nexport function identity(thing) {\n    return thing;\n}\nexport function findCaseInsensitivePropInObj(obj, prop) {\n    const lProp = prop.toLowerCase();\n    return objReduce(obj, (obj, el, objProp) => {\n        if (obj) {\n            return obj;\n        }\n        if (lProp === objProp.toLowerCase()) {\n            return el;\n        }\n        return false;\n    }, false);\n}\nexport function hasProp(prop, haystack) {\n    return haystack[prop] ? true : false;\n}\nexport function isBoolean(arg) {\n    if (typeof arg === 'boolean') {\n        return true;\n    }\n    return false;\n}\nexport function isFunction(thing) {\n    return typeof thing === 'function';\n}\nexport function isNaN(thing) {\n    return thing !== thing;\n}\nexport function isNull(thing) {\n    return thing === null;\n}\nexport function isNumber(thing) {\n    return typeof thing === 'number';\n}\nexport function isObject(thing) {\n    if (!thing) {\n        return false;\n    }\n    return typeof thing === 'object';\n}\nexport function isString(thing) {\n    return typeof thing === 'string';\n}\nexport function isUndefined(thing) {\n    return thing === undefined;\n}\nexport function noop() { }\nexport function objEach(d, callback) {\n    Object.keys(d).forEach((key, i) => {\n        callback(d[key], key, i, d);\n    });\n}\nexport function objFilter(d, callback) {\n    return objReduce(d, (state, value, key, index) => {\n        if (callback(value, key, index)) {\n            state[key] = value;\n        }\n        return state;\n    }, {});\n}\nexport function objReduce(d, callback, init) {\n    return Object.keys(d).reduce((state, key, i) => {\n        return callback(state, d[key], key, i, d);\n    }, init);\n}\nexport function partial(f, ...boundArg) {\n    return (...args) => f(...boundArg, ...args);\n}\nexport function pluck(prop, haystack) {\n    return haystack[prop];\n}\nexport function toGtZeroIntMax(max, val) {\n    const num = toInt(val);\n    if (num > max) {\n        return max;\n    }\n    if (num < 0) {\n        return 0;\n    }\n    return num;\n}\nexport function toInt(val) {\n    return parseInt(val, 10);\n}\nexport function toIntArray(inputArr) {\n    if (Array.isArray(inputArr)) {\n        return inputArr.map(toInt);\n    }\n    return [];\n}\nexport function toIntArrayMax(max, inputArr) {\n    if (Array.isArray(inputArr)) {\n        return inputArr.map(thing => toIntMax(max, thing)).filter(Boolean);\n    }\n    return [];\n}\nexport function toIntArrayMin(max, inputArr) {\n    if (Array.isArray(inputArr)) {\n        return inputArr.map(thing => toIntMin(max, thing)).filter(Boolean);\n    }\n    return [];\n}\nexport function toIntBetween(min, max, val) {\n    const asInt = toInt(val);\n    if (asInt < min) {\n        return min;\n    }\n    if (asInt > max) {\n        return max;\n    }\n    return asInt;\n}\nexport function toIntBetweenOptional(min, max, val) {\n    if (min === undefined && max === undefined) {\n        return toInt(val);\n    }\n    if (min === undefined && max !== undefined) {\n        return toIntMax(max, val);\n    }\n    if (max === undefined && min !== undefined) {\n        return toIntMin(min, val);\n    }\n    return toIntBetween(min, max, val);\n}\nexport function toIntMax(max, val) {\n    const num = toInt(val);\n    if (num > max) {\n        return max;\n    }\n    return num;\n}\nexport function toIntMin(min, val) {\n    const num = toInt(val);\n    if (num < min) {\n        return min;\n    }\n    return num;\n}\nexport function toString(val) {\n    return val + '';\n}\nexport function toStringArray(input) {\n    if (Array.isArray(input)) {\n        return input.map(toString);\n    }\n    return [];\n}\nexport function toStringArrayMax(max, input) {\n    if (Array.isArray(input)) {\n        return input.map(thing => toStringMax(max, thing));\n    }\n    return [];\n}\nexport function toStringMax(max, val) {\n    const v = toString(val);\n    return v.length > max ? v.slice(0, max) : v;\n}\nexport function unzip(dictionary) {\n    return Object.keys(dictionary).reduce((s, val) => {\n        s.keys.push(val);\n        s.values.push(dictionary[val]);\n        return s;\n    }, {\n        keys: [],\n        values: []\n    });\n}\n/**\n *  If keys/values have different lengths the expect behavior is to \"underflow\"\n *  values.  Non values will be initialized to undefined. Non keys will be\n *  ignored.\n *\n *  If there are duplicate keys the last assignment \"wins\", this would be the\n *  key with the highest index in the given keys array\n */\nexport function zip(keys, values) {\n    return keys.reduce((o, key, i) => {\n        o[key] = values[i];\n        return o;\n    }, {});\n}\n//# sourceMappingURL=utility.js.map","import { h } from 'preact';\nimport { isString } from '@ch1/utility';\nexport function Select({ classes, onChange, options, selected, }) {\n    const change = e => onChange(e.target.value);\n    const className = classes ? classes.join(' ') : '';\n    return (h(\"select\", { className: className, onChange: change }, options.map((option, index) => {\n        if (isString(option)) {\n            if (selected === index) {\n                return (h(\"option\", { value: index, selected: true }, option));\n            }\n            return h(\"option\", { value: index }, option);\n        }\n        if (selected === index) {\n            return (h(\"option\", { value: option.index, selected: true }, option.name));\n        }\n        return h(\"option\", { value: option.index }, option.name);\n    })));\n}\n","import { h } from 'preact';\nimport { isString, noop } from '@ch1/utility';\nexport function SelectMultiple({ classes, onChange, onClick, options, selected, }) {\n    const className = classes ? classes.join(' ') : '';\n    const change = e => onChange(selectedOptionsToArray(e.target.options));\n    onClick = onClick || noop;\n    const optClick = (e) => onClick(e.target.value);\n    return (h(\"select\", { className: className, onChange: change, multiple: true }, options.map((option, index) => {\n        const key = 'option-' + option;\n        if (isString(option)) {\n            if (selected.indexOf(index) > -1) {\n                return (h(\"option\", { key: key, onClick: optClick, value: index, selected: true }, option));\n            }\n            return (h(\"option\", { key: key, onClick: optClick, value: index }, option));\n        }\n        if (selected.indexOf(option.index) > -1) {\n            return (h(\"option\", { key: key, onClick: optClick, value: option.index, selected: true }, option.name));\n        }\n        return (h(\"option\", { key: key, onClick: optClick, value: option.index }, option.name));\n    })));\n}\nfunction selectedOptionsToArray(options) {\n    let results = [];\n    for (let i = 0; i < options.length; i += 1) {\n        const opt = options[i];\n        if (opt.selected) {\n            results.push(opt.value);\n        }\n    }\n    return results;\n}\n","import { h } from 'preact';\nexport function InputDate({ classes, onChange, ymdString, }) {\n    const className = classes ? classes.join(' ') : ' ';\n    return (h(\"input\", { className: className, onChange: (e) => onChange(e.target.value), type: \"date\", value: ymdString }));\n}\n","import { h } from 'preact';\nexport function Button({ classes, isDisabled, label, onClick, }) {\n    const classString = classes ? classes.join(' ') : '';\n    return (h(\"button\", { className: classString, onClick: onClick, disabled: isDisabled }, label));\n}\n","import { h } from 'preact';\nimport { noop } from '@ch1/utility';\nexport function InputString({ classes, listenKeyUp, onChange, placeholder, value, }) {\n    const classString = classes ? classes.join(' ') : '';\n    const change = (e) => onChange(e.target.value);\n    const keyUp = listenKeyUp ? change : noop;\n    return (h(\"input\", { className: classString, onChange: change, onKeyUp: keyUp, placeholder: placeholder || '', type: \"text\", value: value }));\n}\n","import { h } from 'preact';\nimport { InputString } from './string';\nimport { SelectMultiple } from './select-multiple';\nimport { flexCol, flex } from '../../style';\nimport { isString, noop } from '@ch1/utility';\nimport { Button } from './button';\nimport { isMobile } from '../../../utility';\nfunction getOptions(props) {\n    if (props.filter) {\n        return props.options.filter(option => {\n            if (isString(option)) {\n                if (option.toLowerCase().indexOf(props.filter.toLowerCase()) > -1) {\n                    return true;\n                }\n                return false;\n            }\n            else {\n                if (option.name.toLowerCase().indexOf(props.filter.toLowerCase()) > -1) {\n                    return true;\n                }\n                return false;\n            }\n        });\n    }\n    else {\n        return props.options;\n    }\n}\nexport function SelectMultipleFilter(props) {\n    const givenClasses = props.classes ? props.classes.join(' ') : '';\n    const className = givenClasses.length\n        ? `${givenClasses} ${flexCol}`\n        : flexCol;\n    const onChange = (selected) => {\n        props.onChange(selected);\n    };\n    const onDeselect = (index) => {\n        props.onDeselect(index);\n    };\n    return (h(\"div\", { className: className },\n        h(\"div\", { className: flex },\n            isMobile() ? ('') : (h(InputString, { classes: props.inputStringClasses, listenKeyUp: true, onChange: props.onUpdateFilter, placeholder: \"filter\", value: props.filter })),\n            h(Button, { classes: props.inputButtonClasses, label: \"\\u2717\", onClick: props.onClear })),\n        isMobile() ? (h(SelectMultiple, { classes: props.inputSelectClasses, onChange: onChange, options: getOptions(props), selected: props.selected })) : (h(SelectMultiple, { classes: props.inputSelectClasses, onChange: noop, onClick: onDeselect, options: getOptions(props), selected: props.selected }))));\n}\n","import { h } from 'preact';\nimport { Select } from '../../components/input/select';\nimport { SelectMultiple } from '../../components/input/select-multiple';\nimport { InputDate } from '../../components/input/date';\nimport { Button } from '../../components/input/button';\nimport { flex, flexCol, flexItem20, highlight, styles } from '../../style';\nimport { SelectMultipleFilter } from '../../components/input/select-multiple-filter';\nimport { filterStates } from '../../../utility';\nexport function TimeVsCountsControls({ clearCountries, countries, countryKeys, onChange, onConfigureSeir, onUpdateCountryFilter, reload, selectCountry, selectCountries, state, strings, }) {\n    const dataSets = [\n        strings.series.activeCases,\n        strings.series.confirmedCases,\n        strings.series.deaths,\n        strings.series.recoveries,\n        strings.series.newConfirmed,\n        strings.series.newDeaths,\n        strings.series.estimatedActiveCases,\n        strings.series.projectionSeirActive,\n        strings.series.projectionSeirDeaths,\n        strings.series.projectionSeirRecoveries,\n    ];\n    const modes = [\n        strings.modes.byDate,\n        strings.modes.byFirst,\n        strings.modes.byFirst100,\n    ];\n    const scaleTypes = [\n        strings.scaleTypes.linear,\n        strings.scaleTypes.logarithmic,\n    ];\n    const showStates = strings.states;\n    const metrics = [strings.metrics.byValue, strings.metrics.byPercent];\n    function selectMode(mode) {\n        onChange(Object.assign(Object.assign({}, state), { mode: parseInt(mode + '', 10) }));\n    }\n    function selectDate(ymdString) {\n        onChange(Object.assign(Object.assign({}, state), { startDate: ymdString }));\n    }\n    function selectDataSets(dataSetIndexes) {\n        onChange(Object.assign(Object.assign({}, state), { dataSetIndexes: dataSetIndexes.map(d => parseInt(d + '', 10)) }));\n    }\n    function selectScaleType(scaleType) {\n        onChange(Object.assign(Object.assign({}, state), { scaleType: parseInt(scaleType + '', 10) }));\n    }\n    function selectShowStates(showOrHide) {\n        onChange(Object.assign(Object.assign({}, state), { showStates: parseInt(showOrHide + '', 10) === 0 ? false : true }));\n    }\n    function selectMetric(metric) {\n        onChange(Object.assign(Object.assign({}, state), { byMetric: parseInt(metric + '', 10) }));\n    }\n    return (h(\"section\", { className: `${flex} ${flexItem20}` },\n        h(\"section\", { className: flexCol },\n            h(Select, { classes: styles.selectBox, onChange: selectMode, options: modes, selected: state.mode }),\n            h(Select, { classes: styles.selectBox, onChange: selectScaleType, options: scaleTypes, selected: state.scaleType }),\n            h(InputDate, { classes: styles.input, onChange: selectDate, ymdString: state.startDate }),\n            h(Button, { classes: styles.button, label: strings.timeVsCounts.configureSeir, onClick: onConfigureSeir })),\n        h(SelectMultiple, { classes: styles.selectBox, onChange: selectDataSets, options: dataSets, selected: state.dataSetIndexes }),\n        h(SelectMultipleFilter, { classes: countryKeys.length === 0 ? [highlight] : [], inputButtonClasses: styles.button, inputSelectClasses: styles.selectBox, inputStringClasses: styles.input, filter: state.countryFilter, onUpdateFilter: onUpdateCountryFilter, onChange: selectCountries, onClear: clearCountries, onDeselect: selectCountry, options: countries.filter(filterStates(state.showStates, strings)), selected: countryKeys }),\n        h(\"div\", { className: flexCol },\n            h(Select, { classes: styles.selectBox, onChange: selectShowStates, options: showStates, selected: state.showStates ? 1 : 0 }),\n            h(Select, { classes: styles.selectBox, onChange: selectMetric, options: metrics, selected: state.byMetric }),\n            h(Button, { classes: styles.button, label: strings.timeVsCounts.reload, onClick: reload }))));\n}\n","import { h } from 'preact';\nimport { Button } from './button';\nexport function ButtonToggle({ classes, isDisabled, labelFalse, labelTrue, onClick, state, }) {\n    return (h(Button, { classes: classes, isDisabled: isDisabled, label: state ? labelTrue : labelFalse, onClick: () => onClick(state ? false : true) }));\n}\n","import { h } from 'preact';\nimport { flex, styles } from '../style';\nimport { Button } from './input/button';\nexport function Menu({ config: { disable, labels, onClick, selected }, }) {\n    return (h(\"nav\", { className: flex }, labels.map((label, i) => {\n        return (h(Button, { classes: styles.button, isDisabled: i === selected || disable, label: label, onClick: () => onClick(i) }));\n    })));\n}\n","import { h } from 'preact';\nimport { noop } from '@ch1/utility';\nexport function InputNumber({ classes, listenKeyUp, onChange, placeholder, useDecimals, value, }) {\n    const parse = useDecimals\n        ? (thing) => parseFloat(thing + '')\n        : (thing) => parseInt(thing + '', 10);\n    if (!useDecimals) {\n        value = parseInt(value + '', 10);\n    }\n    const classString = classes ? classes.join(' ') : '';\n    const change = (e) => onChange(parse(e.target.value));\n    const keyUp = listenKeyUp ? change : noop;\n    const pattern = useDecimals ? '[0-9]*(.[0-9]*)' : '[0-9]*';\n    return (h(\"input\", { className: classString, onChange: change, onKeyUp: keyUp, pattern: pattern, placeholder: placeholder || '', type: \"text\", value: value }));\n}\n","import { h } from 'preact';\nimport { InputNumber } from './input/number';\nimport { width2em, styles, } from '../style';\nexport function InputSeir({ onChange, state, strings }) {\n    const { seirInput } = strings;\n    const gt0 = (n) => (n < 0 ? 0 : n);\n    const percent = (n) => (n < 0 ? 0 : n > 1 ? 1 : n);\n    const data = [\n        [\n            {\n                prop: 'r0',\n                filter: (n) => (n >= 0 && n < 30 ? n : 2.2),\n                unit: '',\n                decimals: true,\n            },\n            {\n                prop: 'incubationPeriod',\n                filter: gt0,\n                unit: seirInput.unitDays,\n                decimals: false,\n            },\n            { prop: 'fatalityRate', filter: percent, unit: '%', decimals: true },\n            {\n                prop: 'lengthOfSevereHospitalStay',\n                filter: gt0,\n                unit: seirInput.unitDays,\n                decimals: false,\n            },\n            {\n                prop: 'hospitalizationRate',\n                filter: percent,\n                unit: '%',\n                decimals: true,\n            },\n        ],\n        [\n            { prop: 'daysToProject', filter: gt0, unit: '', decimals: false },\n            {\n                prop: 'durationOfInfection',\n                filter: gt0,\n                unit: seirInput.unitDays,\n                decimals: false,\n            },\n            {\n                prop: 'timeFromIncubationToDeath',\n                filter: gt0,\n                unit: seirInput.unitDays,\n                decimals: false,\n            },\n            {\n                prop: 'recoveryTimeForMildCases',\n                filter: gt0,\n                unit: seirInput.unitDays,\n                decimals: false,\n            },\n            {\n                prop: 'timeFromIncubationToHospital',\n                filter: gt0,\n                unit: seirInput.unitDays,\n                decimals: false,\n            },\n        ],\n    ];\n    return (h(\"table\", null, data.map(row => (h(\"tbody\", null, [undefined, undefined].map((_, i) => (h(\"tr\", null, row.map(cell => {\n        if (cell.prop === '') {\n            return h(\"td\", null);\n        }\n        return i === 0 ? (h(\"th\", null, seirInput[cell.prop])) : (h(\"td\", { style: \"text-align: center\" },\n            h(InputNumber, { classes: styles.input.concat([width2em]), value: state[cell.prop], onChange: (n) => {\n                    onChange(Object.assign(Object.assign({}, state), { [cell.prop]: cell.filter(n) }));\n                }, placeholder: seirInput[cell.prop], useDecimals: cell.decimals }),\n            \"\\u00A0\",\n            cell.unit));\n    })))))))));\n}\n","// This code is entirely based on https://github.com/gabgoh/epcalc/blob/master/src/App.svelte\n// which is currently (ostensibly) public domain\n//\nimport { noop } from '@ch1/utility';\nconst Integrators = Object.freeze({\n    Euler: [[1]],\n    Midpoint: [\n        [0.5, 0.5],\n        [0, 1],\n    ],\n    Heun: [\n        [1, 1],\n        [0.5, 0.5],\n    ],\n    Ralston: [\n        [2 / 3, 2 / 3],\n        [0.25, 0.75],\n    ],\n    K3: [\n        [0.5, 0.5],\n        [1, -1, 2],\n        [1 / 6, 2 / 3, 1 / 6],\n    ],\n    SSP33: [\n        [1, 1],\n        [0.5, 0.25, 0.25],\n        [1 / 6, 1 / 6, 2 / 3],\n    ],\n    SSP43: [\n        [0.5, 0.5],\n        [1, 0.5, 0.5],\n        [0.5, 1 / 6, 1 / 6, 1 / 6],\n        [1 / 6, 1 / 6, 1 / 6, 1 / 2],\n    ],\n    RK4: [\n        [0.5, 0.5],\n        [0.5, 0, 0.5],\n        [1, 0, 0, 1],\n        [1 / 6, 1 / 3, 1 / 3, 1 / 6],\n    ],\n    RK38: [\n        [1 / 3, 1 / 3],\n        [2 / 3, -1 / 3, 1],\n        [1, 1, -1, 1],\n        [1 / 8, 3 / 8, 3 / 8, 1 / 8],\n    ],\n});\nfunction integrate(model, f, initialState, time, timeStep) {\n    let localState = [...initialState];\n    let dt = 0;\n    const k = [];\n    let ki = 0;\n    for (ki = 0; ki < model.length; ki += 1) {\n        localState = [...initialState];\n        dt = ki ? model[ki - 1][0] * timeStep : 0;\n        for (let l = 0; l < localState.length; l += 1) {\n            for (let j = 1; j <= ki; j += 1) {\n                localState[l] =\n                    localState[l] + timeStep * model[ki - 1][j] * k[ki - 1][l];\n            }\n        }\n        k[ki] = f(time + dt, localState);\n    }\n    let r = [...initialState];\n    for (let l = 0; l < localState.length; l += 1) {\n        for (let j = 0; j < k.length; j += 1) {\n            r[l] = r[l] + timeStep * k[j][l] * model[ki - 1][j];\n        }\n    }\n    return r;\n}\nexport class Seir {\n    constructor(N = 7000000, I0 = 1, initialDeaths = 0) {\n        this.N = N;\n        this.I0 = I0;\n        this.initialDeaths = initialDeaths;\n        this.dt = 2;\n        this.R0 = Seir.r0;\n        this.incubationPeriod = Seir.incubationPeriod;\n        this.durationOfInfection = Seir.durationOfInfection;\n        this.recoveryTimeForMildCases = Seir.recoveryTimeForMildCases;\n        this.timeFromIncubationToHospital = Seir.timeFromIncubationToDeath;\n        this.lengthOfSevereHospitalStay = Seir.lengthOfSevereHospitalStay;\n        this.timeFromIncubationToDeath = Seir.timeFromIncubationToDeath;\n        this.hospitalizationRate = Seir.hospitalizationRate;\n        this.fatalityRate = Seir.fatalityRate;\n    }\n    static create(population = 7000000, I0 = 1, initialDeaths = 0) {\n        return new Seir(population, I0, initialDeaths);\n    }\n    get D_death() {\n        return this.timeFromIncubationToDeath - this.durationOfInfection;\n    }\n    f(t, x) {\n        const beta = this.R0 / this.durationOfInfection;\n        const a = 1 / this.incubationPeriod;\n        const gamma = 1 / this.durationOfInfection;\n        const S = x[0]; // Susectable\n        const E = x[1]; // Exposed\n        const I = x[2]; // Infectious\n        const Mild = x[3]; // Recovering (Mild)\n        const Severe = x[4]; // Recovering (Severe at home)\n        const Severe_H = x[5]; // Recovering (Severe in hospital)\n        const Fatal = x[6]; // Recovering (Fatal)\n        const p_mild = 1 - this.hospitalizationRate - this.fatalityRate;\n        const dS = -beta * I * S;\n        const dE = beta * I * S - a * E;\n        const dI = a * E - gamma * I;\n        const dMild = p_mild * gamma * I - (1 / this.recoveryTimeForMildCases) * Mild;\n        const dSevere = this.hospitalizationRate * gamma * I -\n            (1 / this.timeFromIncubationToHospital) * Severe;\n        const dSevere_H = (1 / this.timeFromIncubationToHospital) * Severe -\n            (1 / this.lengthOfSevereHospitalStay) * Severe_H;\n        const dFatal = this.fatalityRate * gamma * I - (1 / this.D_death) * Fatal;\n        const dR_Mild = (1 / this.recoveryTimeForMildCases) * Mild;\n        const dR_Severe = (1 / this.lengthOfSevereHospitalStay) * Severe_H;\n        const dR_Fatal = (1 / this.D_death) * Fatal;\n        return [\n            dS,\n            dE,\n            dI,\n            dMild,\n            dSevere,\n            dSevere_H,\n            dFatal,\n            dR_Mild,\n            dR_Severe,\n            dR_Fatal,\n        ];\n    }\n    getSolution(solutionLength = 10, onStep = noop) {\n        const interpolationSteps = 40;\n        let steps = solutionLength * interpolationSteps;\n        const dt = this.dt / interpolationSteps;\n        const method = Integrators.RK4;\n        let v = [\n            1 - this.I0 / this.N,\n            0,\n            this.I0 / this.N,\n            0,\n            0,\n            0,\n            0,\n            0,\n            0,\n            this.initialDeaths / this.N,\n        ];\n        let t = 0;\n        let dayCount = 0;\n        const P = [];\n        const TI = [];\n        const Iters = [];\n        while (steps--) {\n            if ((steps + 1) % interpolationSteps == 0) {\n                //    Dead   Hospital          Recovered        Infectious   Exposed\n                const day = [\n                    this.N * v[9],\n                    this.N * (v[5] + v[6]),\n                    this.N * (v[7] + v[8]),\n                    this.N * v[2],\n                    this.N * v[1],\n                ];\n                P.push(day);\n                Iters.push(v);\n                TI.push(this.N * (1 - v[0]));\n                onStep(this, day, dayCount++);\n            }\n            v = integrate(method, this.f.bind(this), v, t, dt);\n            t += dt;\n        }\n        return {\n            P: P,\n            deaths: this.N * v[6],\n            total: 1 - v[0],\n            total_infected: TI,\n            Iters: Iters,\n            dIters: this.f.bind(this),\n        };\n    }\n}\nSeir.r0 = 2.2;\nSeir.incubationPeriod = 5.2;\nSeir.durationOfInfection = 2.9;\nSeir.fatalityRate = 0.02;\nSeir.timeFromIncubationToDeath = 32;\nSeir.lengthOfSevereHospitalStay = 31.5 - Seir.durationOfInfection;\nSeir.recoveryTimeForMildCases = 14 - Seir.durationOfInfection;\nSeir.hospitalizationRate = 0.2;\nSeir.timeFromIncubationToHospital = 5;\n","import { Component, h } from 'preact';\nimport { defaultDaysToProject } from '../../../constants';\nimport { Chart } from '../../components/chart';\nimport { flexCol, fullSize, flexItem60, flexItem95, flex, styles, green, } from '../../style';\nimport { TimeVsCountsControls } from './time-vs-counts-controls';\nimport { ButtonToggle } from '../../components/input/button-toggle';\nimport { Menu } from '../../components/menu';\nimport { InputSeir } from '../../components/seir';\nimport { Button } from '../../components/input/button';\nimport { Seir } from '../../../seir';\nexport class TimeVsCount extends Component {\n    constructor() {\n        super();\n        this.state = {};\n    }\n    onConfigureSeir() {\n        this.props.onChange(Object.assign(Object.assign({}, this.props.state), { showSeirState: this.props.state.showSeirState ? false : true }));\n    }\n    useDays() {\n        if (this.props.state.mode !== 0) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    toggleConfig(v) {\n        this.props.onChange(Object.assign(Object.assign({}, this.props.state), { isConfigOpen: v }));\n    }\n    onChangeSeir(v) {\n        this.props.onSeirStateChange(v);\n    }\n    setCountryFilter(filter) {\n        this.props.onChange(Object.assign(Object.assign({}, this.props.state), { countryFilter: filter }));\n    }\n    render() {\n        const classes = this.props.state.isConfigOpen === false &&\n            this.props.countryKeys.length === 0\n            ? [green]\n            : [];\n        const customTicks = [\n            {\n                // A tick for every month.\n                value: {\n                    month: '*',\n                },\n                label_text: '%min',\n            },\n            {\n                // every month\n                value: { week: '*' },\n                label_text: '%min',\n            },\n        ];\n        const options = {\n            xAxis_label_text: this.useDays() ? 'Day' : undefined,\n            xAxis: {\n                scale: {\n                    type: this.useDays() ? 'auto' : 'time',\n                },\n                customTicks,\n            },\n            yAxis_label_text: this.props.state.byMetric === 0\n                ? this.props.strings.timeVsCounts.people\n                : this.props.strings.timeVsCounts.percent,\n            yAxis: {\n                scale: {\n                    type: this.props.state.scaleType === 0 ? 'auto' : 'logarithmic',\n                },\n            },\n            legend: {\n                template: '%icon %name',\n            },\n            series: this.props.currentSeries,\n        };\n        return (h(\"section\", { className: `${fullSize} ${flexCol}` },\n            h(Chart, { flexSize: this.props.state.isConfigOpen ? flexItem60 : flexItem95, options: options, strings: this.props.strings }),\n            h(\"section\", { className: flex },\n                h(ButtonToggle, { classes: styles.button.concat(classes), labelTrue: this.props.strings.timeVsCounts.enlarge, labelFalse: this.props.strings.timeVsCounts.configure, onClick: this.toggleConfig.bind(this), state: this.props.state.isConfigOpen }),\n                h(Menu, { config: this.props.menu })),\n            this.props.state.isConfigOpen ? (this.props.state.showSeirState ? (h(\"div\", { className: flex },\n                h(\"div\", { className: flexCol },\n                    h(Button, { classes: this.props.countryKeys.length === 0\n                            ? styles.button.concat([green])\n                            : styles.button, label: this.props.strings.timeVsCounts.configureChart, onClick: this.onConfigureSeir.bind(this) }),\n                    h(Button, { classes: styles.button, label: this.props.strings.timeVsCounts.resetSeir, onClick: () => this.onChangeSeir(Object.assign(Object.assign({}, Seir), { daysToProject: defaultDaysToProject })) })),\n                h(InputSeir, { onChange: this.onChangeSeir.bind(this), state: this.props.seirState, strings: this.props.strings }))) : (h(TimeVsCountsControls, { onConfigureSeir: this.onConfigureSeir.bind(this), onUpdateCountryFilter: this.setCountryFilter.bind(this), clearCountries: this.props.clearCountries, countryKeys: this.props.countryKeys, countries: this.props.countries, currentSeries: this.props.currentSeries, onChange: this.props.onChange, reload: this.props.reload, selectCountry: this.props.selectCountry, selectCountries: this.props.selectCountries, state: this.props.state, strings: this.props.strings }))) : ('')));\n    }\n}\n","import { backslash, comma, doubleQuote, newLine } from '../../constants';\nexport class Csv {\n    constructor(hasHeader, string) {\n        this.hasHeader = hasHeader;\n        this.string = string;\n        this.headerStrings = [];\n        this.newLine = newLine;\n        this.parsedData = [];\n    }\n    static rowStringToArray(csvRow) {\n        const chars = csvRow.split('');\n        const state = {\n            buffer: '',\n            isEscape: false,\n            isInQuote: false,\n        };\n        const toggleQuoteState = () => {\n            if (state.isInQuote) {\n                state.isInQuote = false;\n            }\n            else {\n                state.isInQuote = true;\n            }\n        };\n        const toggleEscape = () => {\n            if (state.isEscape) {\n                state.isEscape = false;\n            }\n            else {\n                state.isEscape = true;\n            }\n        };\n        return chars.reduce((arr, el, i, c) => {\n            if (el === doubleQuote) {\n                if (state.isEscape) {\n                    state.buffer += el;\n                    toggleEscape();\n                }\n                else {\n                    toggleQuoteState();\n                }\n                return arr;\n            }\n            if (el === backslash) {\n                if (state.isEscape) {\n                    state.buffer += el;\n                    toggleEscape();\n                }\n                else {\n                    toggleEscape();\n                }\n                return arr;\n            }\n            if (el === comma) {\n                if (state.isInQuote) {\n                    state.buffer += el;\n                }\n                else {\n                    arr.push(state.buffer);\n                    state.buffer = '';\n                }\n                return arr;\n            }\n            state.buffer += el;\n            if (i === c.length - 1) {\n                arr.push(state.buffer);\n                state.buffer = '';\n            }\n            return arr;\n        }, []);\n    }\n    parse() {\n        const splitString = this.string.split(this.newLine);\n        this.headerStrings = this.hasHeader\n            ? Csv.rowStringToArray(splitString[0])\n            : this.headerStrings;\n        this.parsedData = (this.hasHeader ? splitString.slice(1) : splitString)\n            .map(Csv.rowStringToArray)\n            .filter(row => row.length);\n        return this.parsedData;\n    }\n    parsed() {\n        if (this.parsedData.length === 0) {\n            this.parse();\n        }\n        return this.parsedData;\n    }\n    toString() {\n        return this.string;\n    }\n}\n","import { Csv } from './csv';\nexport class CsvNytTimeSeries extends Csv {\n    static is(thing) {\n        return thing instanceof CsvNytTimeSeries;\n    }\n    static create(string) {\n        return new CsvNytTimeSeries(string);\n    }\n    constructor(string) {\n        super(true, string);\n    }\n}\n","import rawPopulationData from 'country-json/src/country-by-population.json';\nimport rawPopulationDensityData from 'country-json/src/country-by-population-density.json';\nimport codesToStatesJson from '../../data/codes-to-states.json';\nimport countriesToCodesJson from '../../data/countries-to-codes.json';\nimport countriesToContinentsJson from '../../data/countries-to-continents.json';\nimport historicalEventsByCountryJson from '../../data/timeline-historical-events.json';\nimport mapJhuCountryToPopJson from '../../data/map-jhu-country-to-prop.json';\nimport manuallySourcePop from '../../data/manually-sourced-population.json';\nimport manuallySourceStatePop from '../../data/manually-sourced-population-state.json';\nimport statesToCodesJson from '../../data/states-to-codes.json';\nexport const codesToStates = codesToStatesJson;\nexport const countriesToCodes = countriesToCodesJson;\nexport const countriesToContinents = countriesToContinentsJson;\nexport const historicalEventsByCountry = historicalEventsByCountryJson;\nexport const mapJhuCountryToPop = mapJhuCountryToPopJson;\nexport const statesToCodes = statesToCodesJson;\nconst populationDictionary = (rawPopulationData || []).reduce((p, node) => {\n    p[node.country] = parseInt(node.population, 10);\n    return p;\n}, {});\nconst populationDensityDictionary = (rawPopulationDensityData || []).reduce((p, node) => {\n    p[node.country] = node.density === null ? null : parseInt(node.density, 10);\n    return p;\n}, {});\nexport function getPopulation(country, state) {\n    if (state) {\n        return getStatePopulation(country, state);\n    }\n    let population = populationDictionary[country];\n    if (population) {\n        return population;\n    }\n    population = populationDictionary[mapJhuCountryToPop[country]];\n    if (population) {\n        return population;\n    }\n    population = manuallySourcePop[country];\n    if (population) {\n        return population;\n    }\n    return 0;\n}\nexport function getStatePopulation(country, state) {\n    if (manuallySourceStatePop[country]) {\n        if (manuallySourceStatePop[country][state]) {\n            return manuallySourceStatePop[country][state];\n        }\n    }\n    return 0;\n}\nexport function getPopulationDensity(country, state) {\n    if (state) {\n        return 0;\n    }\n    let populationDensity = populationDensityDictionary[country];\n    if (populationDensity) {\n        return populationDensity;\n    }\n    populationDensity = populationDensityDictionary[mapJhuCountryToPop[country]];\n    if (populationDensity) {\n        return populationDensity;\n    }\n    return 0;\n}\n","import { deepFreeze } from '@ch1/utility';\nexport class ReadOnlyAble {\n    freeze() {\n        return deepFreeze(this);\n    }\n}\n","import { cloneShallow } from '../../utility';\nimport { ReadOnlyAble } from '../read-only';\nexport function createTimeSeriesCount(confirmed = 0, deaths = 0, recoveries = 0) {\n    return {\n        active: 0,\n        confirmed,\n        deaths,\n        newConfirmed: 0,\n        newDeaths: 0,\n        recoveries,\n        projectionReverseDeath: 0,\n    };\n}\nexport class TimeSeries extends ReadOnlyAble {\n    constructor(lsData) {\n        super();\n        this.lsData = lsData;\n        this.lastActive = this.lastValue.bind(this, 'active');\n        this.lastActivePercent = this.lastPercent.bind(this, 'active');\n        this.lastConfirmed = this.lastValue.bind(this, 'confirmed');\n        this.lastConfirmedPercent = this.lastPercent.bind(this, 'confirmed');\n        this.lastDeaths = this.lastValue.bind(this, 'deaths');\n        this.lastDeathsPercent = this.lastPercent.bind(this, 'deaths');\n        this.lastRecoveries = this.lastValue.bind(this, 'recoveries');\n        this.lastRecoveriesPercent = this.lastPercent.bind(this, 'recoveries');\n        this.lastNewConfirmed = this.lastValue.bind(this, 'newConfirmed');\n        this.lastNewDeaths = this.lastValue.bind(this, 'newDeaths');\n        this.peakActive = this.peakValue.bind(this, 'active');\n        this.peakActivePercent = this.peakPercent.bind(this, 'active');\n        this.peakConfirmed = this.peakValue.bind(this, 'confirmed');\n        this.peakConfirmedPercent = this.peakPercent.bind(this, 'confirmed');\n        this.peakDeaths = this.peakValue.bind(this, 'deaths');\n        this.peakDeathsPercent = this.peakPercent.bind(this, 'deaths');\n        this.peakRecoveries = this.peakValue.bind(this, 'recoveries');\n        this.peakRecoveriesPercent = this.peakPercent.bind(this, 'recoveries');\n        this.peakNewConfirmed = this.peakValue.bind(this, 'newConfirmed');\n        this.peakNewDeaths = this.peakValue.bind(this, 'newDeaths');\n        this.counts = this.getProp.bind(this, 'counts');\n        this.dates = this.getProp.bind(this, 'dates');\n        this.country = this.getProp.bind(this, 'country');\n        this.countryCode = this.getProp.bind(this, 'countryCode');\n        this.key = this.getProp.bind(this, 'key');\n        this.population = this.getProp.bind(this, 'population');\n        this.populationDensity = this.getProp.bind(this, 'populationDensity');\n        this.state = this.getProp.bind(this, 'state');\n        this.stateCode = this.getProp.bind(this, 'stateCode');\n    }\n    static create(locationSeries) {\n        return new TimeSeries(locationSeries);\n    }\n    lastValue(prop) {\n        if (this.lsData.counts.length < 1) {\n            return 0;\n        }\n        return this.lsData.counts[this.lsData.counts.length - 1][prop];\n    }\n    lastPercent(prop) {\n        if (this.lsData.counts.length < 1) {\n            return 0;\n        }\n        if (this.lsData.population < 1) {\n            return 0;\n        }\n        return ((this.lsData.counts[this.lsData.counts.length - 1][prop] /\n            this.lsData.population) *\n            100);\n    }\n    peakValue(prop) {\n        if (this.lsData.counts.length < 1) {\n            return 0;\n        }\n        return this.lsData.counts.reduce((max, next) => {\n            if (next[prop] && next[prop] > max) {\n                return next[prop];\n            }\n            return max;\n        }, 0);\n    }\n    peakPercent(prop) {\n        if (this.lsData.counts.length < 1) {\n            return 0;\n        }\n        if (this.lsData.population < 1) {\n            return 0;\n        }\n        return this.lsData.counts.reduce((max, next) => {\n            if (next[prop]) {\n                const div = (next[prop] / this.lsData.population) * 100;\n                if (div > max) {\n                    return div;\n                }\n            }\n            return max;\n        }, 0);\n    }\n    getProp(prop) {\n        return this.lsData[prop];\n    }\n    // deep clone of the object, excluding date objects\n    clone() {\n        return TimeSeries.create(Object.assign(Object.assign({}, this.lsData), { counts: this.lsData.counts.map(cloneShallow), dates: this.lsData.dates.slice(0) }));\n    }\n    cloneAndAppend(counts, dates) {\n        return TimeSeries.create(Object.assign(Object.assign({}, this.lsData), { counts: this.lsData.counts.map(cloneShallow).concat(counts), dates: this.lsData.dates.concat(dates) }));\n    }\n    lastMortality() {\n        if (this.lastConfirmed() < 1) {\n            return 0;\n        }\n        return (this.lastDeaths() / this.lastConfirmed()) * 100;\n    }\n    peakMortality() {\n        if (this.peakConfirmed() < 1) {\n            return 0;\n        }\n        return (this.peakDeaths() / this.peakConfirmed()) * 100;\n    }\n    formatName() {\n        return this.country() + (this.state() ? ', ' + this.state() : '');\n    }\n    forEachDay(callback) {\n        this.counts().forEach((tsc, i) => {\n            callback(tsc, this.dates()[i], i);\n        });\n    }\n    forEachDayWhere(predicate, callback) {\n        this.forEachDay((t, d, i) => {\n            if (predicate(t, d, i)) {\n                callback(t, d, i);\n            }\n        });\n    }\n}\n","import { Csv } from './csv';\nimport { createDate } from '../../utility';\nexport class CsvJhuTimeSeries extends Csv {\n    constructor(string) {\n        super(true, string);\n        this.datesData = [];\n        this.countsData = [];\n    }\n    static is(thing) {\n        return thing instanceof CsvJhuTimeSeries;\n    }\n    static create(string) {\n        return new CsvJhuTimeSeries(string);\n    }\n    counts() {\n        if (this.countsData.length < 1) {\n            this.countsData = this.parsed().map(row => row.slice(4).map(string => parseInt(string, 10)));\n        }\n        return this.countsData;\n    }\n    dates() {\n        if (this.datesData.length < 1) {\n            // we wont have headerStrings if a parse has not been done\n            this.parsed();\n            this.datesData = this.headerStrings.slice(4).map(createDate);\n        }\n        return this.datesData;\n    }\n    onEachRow(callback) {\n        this.parsed().forEach((row, i) => {\n            callback({\n                country: () => row[1],\n                counts: () => this.counts()[i].slice(0),\n                state: () => row[0],\n            }, i);\n        });\n    }\n}\n","import { objEach, objReduce, isString } from '@ch1/utility';\nimport { getPopulation, getPopulationDensity, getStatePopulation, } from '../country-data';\nimport { createTimeSeriesCount, TimeSeries } from './time-series';\nimport { generateDateDictionary } from '../../utility';\nimport { CsvNytTimeSeries } from '../csv/nyt-time-series';\nimport { CsvJhuTimeSeries } from '../csv/jhu-time-series';\nimport { usaCode, recoveryDays, reverseDeathProjectionDefaults, } from '../../constants';\nimport { statesToCodes, codesToStates, countriesToCodes, } from '../country-data';\nimport { ReadOnlyAble } from '../read-only';\nfunction manuallyAdjustJhu(dict) {\n    // there will be some initial data that needs correction to keep things organized\n    // there is no top level entry for Canadian confirmed cases or deaths, this minimal recovery data\n    delete dict.CA;\n    return dict;\n}\nexport class TimeSeriesCollection extends ReadOnlyAble {\n    constructor(dictionary = {}) {\n        super();\n        this.dictionary = dictionary;\n        this.hasInterpolated = false;\n        this.hasSummedRegions = false;\n        this.hasSummedWorld = false;\n    }\n    static create(data = {}) {\n        return new TimeSeriesCollection(data);\n    }\n    static from(data) {\n        if (CsvNytTimeSeries.is(data)) {\n            const lsd = convertNytCsvToStructured(data);\n            return TimeSeriesCollection.create(locationSeriesDictionaryToTimeSeriesDictionary(lsd));\n        }\n        if (Array.isArray(data) &&\n            data.reduce((s, thing) => (s === false ? s : CsvJhuTimeSeries.is(thing)), true)) {\n            const lsd = manuallyAdjustJhu(createFromJhuCsvs(data));\n            return TimeSeriesCollection.create(locationSeriesDictionaryToTimeSeriesDictionary(lsd));\n        }\n        throw new TypeError('TimeSeries: from: data is unexpected type: ' + typeof data);\n    }\n    // will overwrite, last item wins\n    static merge(collections) {\n        const newData = {};\n        collections.forEach(tsc => {\n            tsc.forEach(ts => {\n                newData[ts.key()] = ts.clone();\n            });\n        });\n        return TimeSeriesCollection.create(newData);\n    }\n    sumAllWorld() {\n        const world = {\n            country: TimeSeriesCollection.worldString,\n            countryCode: TimeSeriesCollection.worldString,\n            dates: Object.keys(generateDateDictionary()).map(ds => new Date(ds)),\n            key: TimeSeriesCollection.worldString,\n            population: 0,\n            populationDensity: 0,\n            state: '',\n            stateCode: '',\n            counts: [],\n        };\n        objEach(this.dictionary, location => {\n            if (location.state() &&\n                location.state() !== TimeSeriesCollection.totalsString) {\n                return;\n            }\n            world.population += location.population();\n            location.forEachDay((tsc, _, i) => {\n                if (world.counts[i]) {\n                    world.counts[i] = addCounts(world.counts[i], tsc);\n                }\n                else {\n                    world.counts[i] = Object.assign({}, tsc);\n                }\n            });\n        });\n        this.dictionary[TimeSeriesCollection.worldString] = TimeSeries.create(world);\n    }\n    sumAllRegions() {\n        objEach(this.dictionary, location => {\n            if (location.state() === TimeSeriesCollection.totalsString) {\n                // skip totals\n                return;\n            }\n            if (location.state()) {\n                if (this.dictionary[location.countryCode()]) {\n                    // skip if there's already a total like in UK's case\n                    return;\n                }\n                const totalKey = location.countryCode() + '.' + TimeSeriesCollection.totalsString;\n                if (this.dictionary[totalKey] === undefined) {\n                    this.dictionary[totalKey] = TimeSeries.create({\n                        country: location.country(),\n                        countryCode: location.countryCode(),\n                        dates: location.dates().slice(0),\n                        key: totalKey,\n                        population: getPopulation(location.country()),\n                        populationDensity: getPopulationDensity(location.country()),\n                        state: TimeSeriesCollection.totalsString,\n                        stateCode: '',\n                        counts: [],\n                    });\n                }\n                location.forEachDay((tsc, _, i) => {\n                    if (this.dictionary[totalKey].counts()[i]) {\n                        this.dictionary[totalKey].counts()[i] = addCounts(this.dictionary[totalKey].counts()[i], tsc);\n                    }\n                    else {\n                        this.dictionary[totalKey].counts()[i] = tsc;\n                    }\n                });\n            }\n        });\n    }\n    interpolate() {\n        objEach(this.dictionary, c => {\n            c.forEachDay((tcs, _date, i) => {\n                const arr = c.counts();\n                tcs.recoveries = getRecoveryDays(tcs, i, arr, recoveryDays);\n                tcs.active = tcs.confirmed - tcs.deaths - tcs.recoveries;\n                tcs.projectionReverseDeath = reverseDeathProjection(tcs);\n                tcs.newConfirmed =\n                    tcs.confirmed - (arr[i - 1] ? arr[i - 1].confirmed || 0 : 0);\n                tcs.newDeaths = tcs.deaths - (arr[i - 1] ? arr[i - 1].deaths || 0 : 0);\n            });\n        });\n    }\n    select(code) {\n        if (isString(code)) {\n            return this.dictionary[code];\n        }\n        if (Array.isArray(code)) {\n            return code.map(c => this.dictionary[c]);\n        }\n    }\n    interpolateRecoveriesActiveCasesAndNewProps() {\n        if (this.hasInterpolated) {\n            return this;\n        }\n        this.interpolate();\n        this.hasInterpolated = true;\n        return this;\n    }\n    sumRegions() {\n        if (this.hasSummedRegions) {\n            return this;\n        }\n        this.sumAllRegions();\n        this.hasSummedRegions = true;\n        return this;\n    }\n    sumWorld() {\n        if (this.hasSummedWorld) {\n            return this;\n        }\n        this.sumAllWorld();\n        this.hasSummedWorld = true;\n        return this;\n    }\n    forEach(callback) {\n        objEach(this.dictionary, (ts, _, i) => {\n            callback(ts, i);\n        });\n    }\n    reduce(callback, initialResult) {\n        return objReduce(this.dictionary, (s, t, _, i) => callback(s, t, i), initialResult);\n    }\n}\nTimeSeriesCollection.totalsString = 'Total';\nTimeSeriesCollection.worldString = 'World';\nexport function nytRowsToDict(rows) {\n    const dict = {};\n    rows.forEach(row => {\n        if (!row[0] || !row[1]) {\n            return;\n        }\n        const stateCode = statesToCodes.US[row[1]];\n        if (!stateCode) {\n            return;\n        }\n        const key = keyFromUsState(stateCode);\n        if (dict[row[0]] === undefined) {\n            dict[row[0]] = {};\n        }\n        if (dict[row[0]][key] === undefined) {\n            dict[row[0]][key] = createTimeSeriesCount();\n        }\n        if (row[3]) {\n            dict[row[0]][key].confirmed = parseInt(row[3], 10);\n        }\n        if (row[4]) {\n            dict[row[0]][key].deaths = parseInt(row[4], 10);\n        }\n    });\n    return dict;\n}\nexport function convertNytTimeSeriesDictToStateDict(byTime) {\n    const byState = {};\n    // account for JHU D.C. code\n    const states = Object.keys(codesToStates.US).filter(code => {\n        if (code === 'D.C.') {\n            return false;\n        }\n        return true;\n    });\n    const dateDict = generateDateDictionary();\n    const dates = [];\n    objEach(dateDict, (timeSeriesIndex, dateString) => {\n        dates.push(new Date(dateString));\n        states.forEach(stateCode => {\n            const key = keyFromUsState(stateCode);\n            if (byState[key] === undefined) {\n                byState[key] = [];\n            }\n            if (byTime[dateString] && byTime[dateString][key]) {\n                byState[key][timeSeriesIndex] = byTime[dateString][key];\n            }\n            else {\n                const last = byState[key][timeSeriesIndex - 1];\n                if (last) {\n                    byState[key][timeSeriesIndex] = Object.assign({}, last);\n                }\n                else {\n                    byState[key][timeSeriesIndex] = createTimeSeriesCount();\n                }\n            }\n        });\n    });\n    return [dates, byState];\n}\nfunction convertNytCsvToStructured(csv) {\n    const rows = sortNytRows(csv.parsed());\n    const timeSeriesDict = nytRowsToDict(rows);\n    const [dates, byState] = convertNytTimeSeriesDictToStateDict(timeSeriesDict);\n    const dict = {};\n    objEach(byState, (counts, key) => {\n        const stateCode = key.split('.')[1];\n        const state = codesToStates.US[stateCode];\n        dict[key] = {\n            country: usaCode,\n            countryCode: usaCode,\n            dates,\n            key,\n            population: getStatePopulation(usaCode, state),\n            populationDensity: getPopulationDensity(usaCode, state),\n            state,\n            stateCode,\n            counts,\n        };\n    });\n    return dict;\n}\nfunction sortNytRows(rows) {\n    rows.sort((a, b) => {\n        if (a[0] < b[0]) {\n            return -1;\n        }\n        if (a[0] > b[0]) {\n            return 1;\n        }\n        return 0;\n    });\n    return rows;\n}\nfunction keyFromUsState(code) {\n    return usaCode + '.' + code;\n}\nexport function createFromJhuCsvs(csvs) {\n    const dict = {};\n    const createOnEach = (prop) => row => {\n        const countryCode = countriesToCodes[row.country()];\n        if (!countryCode) {\n            /** @todo re-think log */\n            // log(strings.data.log.countryNotFound, c.country);\n            return;\n        }\n        let code = countryCode;\n        let stateCode = '';\n        if (row.state()) {\n            const states = statesToCodes[row.country()];\n            if (!states) {\n                // don't bother logging these\n                return;\n            }\n            stateCode = states[row.state()];\n            if (!stateCode) {\n                /** @todo re-think log */\n                // log(strings.data.log.stateNotFound, c.country + ',', c.state);\n                return;\n            }\n            code = code + '.' + stateCode;\n        }\n        if (dict[code]) {\n            row.counts().map((value, i) => {\n                if (dict[code].counts[i] === undefined) {\n                    /** @todo re-think log */\n                    // log(strings.data.log.unexpectedLength, prop);\n                    dict[code].counts[i] = createTimeSeriesCount();\n                }\n                dict[code].counts[i][prop] = value;\n            });\n        }\n        else {\n            dict[code] = {\n                country: row.country(),\n                countryCode,\n                counts: row.counts().map(value => {\n                    const tsc = createTimeSeriesCount();\n                    tsc[prop] = value;\n                    return tsc;\n                }),\n                dates: csvs[0].dates(),\n                key: code,\n                population: getPopulation(row.country(), row.state()),\n                populationDensity: getPopulationDensity(row.country(), row.state()),\n                state: row.state(),\n                stateCode,\n            };\n        }\n    };\n    if (csvs[0]) {\n        csvs[0].onEachRow(createOnEach('confirmed'));\n    }\n    if (csvs[1]) {\n        csvs[1].onEachRow(createOnEach('deaths'));\n    }\n    if (csvs[2]) {\n        csvs[2].onEachRow(createOnEach('recoveries'));\n    }\n    return dict;\n}\nexport function locationSeriesDictionaryToTimeSeriesDictionary(lsd) {\n    return objReduce(lsd, (tsd, ls, key) => {\n        tsd[key] = TimeSeries.create(ls);\n        return tsd;\n    }, {});\n}\nexport function addCounts(a, b) {\n    return {\n        active: a.active + b.active,\n        confirmed: a.confirmed + b.confirmed,\n        deaths: a.deaths + b.deaths,\n        newConfirmed: a.newConfirmed + b.newConfirmed,\n        newDeaths: a.newDeaths + b.newDeaths,\n        recoveries: a.recoveries + b.recoveries,\n        projectionReverseDeath: a.projectionReverseDeath + b.projectionReverseDeath,\n    };\n}\nexport function getRecoveryDays(count, i, arr, rdays) {\n    if (count.confirmed) {\n        if (count.recoveries < 1) {\n            if (arr[i - rdays]) {\n                if (arr[i - rdays - 1]) {\n                    const rprev = arr[i - rdays - 1].confirmed;\n                    const rcurr = arr[i - rdays].confirmed;\n                    const diff = rcurr - rprev;\n                    if (arr[i - 1]) {\n                        return diff + arr[i - 1].recoveries;\n                    }\n                    else {\n                        return diff;\n                    }\n                }\n            }\n        }\n        else {\n            return count.recoveries;\n        }\n    }\n    else {\n        /** @todo figure out logging */\n        // if (count.deaths) {\n        //   log(strings.data.log.deathNoConfirmed);\n        // }\n        // if (count.recoveries) {\n        //   log(strings.data.log.recoveryNoConfirmed);\n        // }\n    }\n    return 0;\n}\nexport function reverseDeathProjection(day) {\n    // projection is based on https://medium.com/@tomaspueyo/coronavirus-act-today-or-people-will-die-f4d3d9cd99ca\n    // https://docs.google.com/spreadsheets/d/1R25ygRLahhSNP2N-lnas_9a9aRWGCtAt3_sCYDoRyAU/edit#gid=0\n    const deaths = day.deaths;\n    const numberOfCasesCausingDeath = deaths / reverseDeathProjectionDefaults.fatalityRate;\n    const numberOfDoubles = reverseDeathProjectionDefaults.daysFromInfectionToDeath /\n        reverseDeathProjectionDefaults.doublingTime;\n    return numberOfCasesCausingDeath * Math.pow(2, numberOfDoubles);\n}\n","export class TimeSeriesArray extends Array {\n    constructor() {\n        super();\n        this.sortByActive = this.sortByProp.bind(this, 'lastActive');\n        this.sortByActivePercent = this.sortByProp.bind(this, 'lastActivePercent');\n        this.sortByConfirmed = this.sortByProp.bind(this, 'lastConfirmed');\n        this.sortByNewConfirmed = this.sortByProp.bind(this, 'lastNewConfirmed');\n        this.sortByPeakNewConfirmed = this.sortByProp.bind(this, 'peakNewConfirmed');\n        this.sortByConfirmedPercent = this.sortByProp.bind(this, 'lastConfirmedPercent');\n        this.sortByPeakActive = this.sortByProp.bind(this, 'peakActive');\n        this.sortByPeakActivePercent = this.sortByProp.bind(this, 'peakActivePercent');\n        this.sortByPeakConfirmed = this.sortByProp.bind(this, 'peakConfirmed');\n        this.sortByPeakConfirmedPercent = this.sortByProp.bind(this, 'peakConfirmedPercent');\n        this.sortByDeaths = this.sortByProp.bind(this, 'lastDeaths');\n        this.sortByNewDeaths = this.sortByProp.bind(this, 'lastNewDeaths');\n        this.sortByPeakNewDeaths = this.sortByProp.bind(this, 'peakNewDeaths');\n        this.sortByMortality = this.sortByProp.bind(this, 'lastMortality');\n        this.sortByDeathsPercent = this.sortByProp.bind(this, 'lastDeathsPercent');\n        this.sortByPopulation = this.sortByProp.bind(this, 'population');\n        this.sortByPopulationDensity = this.sortByProp.bind(this, 'populationDensity');\n        this.sortByRecoveries = this.sortByProp.bind(this, 'lastRecoveries');\n        this.sortByRecoveriesPercent = this.sortByProp.bind(this, 'lastRecoveriesPercent');\n        this.sortByPeakDeaths = this.sortByProp.bind(this, 'peakDeaths');\n        this.sortByPeakMortality = this.sortByProp.bind(this, 'peakMortality');\n        this.sortByPeakDeathsPercent = this.sortByProp.bind(this, 'peakDeathsPercent');\n        this.sortByPeakPopulation = this.sortByProp.bind(this, 'population');\n        this.sortByPeakRecoveries = this.sortByProp.bind(this, 'peakRecoveries');\n        this.sortByPeakRecoveriesPercent = this.sortByProp.bind(this, 'peakRecoveriesPercent');\n    }\n    static create() {\n        return new TimeSeriesArray();\n    }\n    sortByProp(prop, asc = true) {\n        const ret = asc ? -1 : 1;\n        this.sort((a, b) => {\n            if (a[prop]() < b[prop]()) {\n                return ret;\n            }\n            if (a[prop]() > b[prop]()) {\n                return ret * -1;\n            }\n            return 0;\n        });\n    }\n    sortByCountry(asc = true) {\n        this.sort((a, b) => {\n            if (a.country() < b.country()) {\n                return -1;\n            }\n            if (a.country() > b.country()) {\n                return 1;\n            }\n            if (a.state() < b.state()) {\n                return -1;\n            }\n            if (a.state() > b.state()) {\n                return 1;\n            }\n            return 0;\n        });\n    }\n}\n","import { historicalEventsByCountry } from '../country-data';\nimport { createYmdString } from '../../utility';\nexport function getEventFrom(ts, day) {\n    const historicalEvents = historicalEventsByCountry[ts.countryCode().toUpperCase()];\n    if (historicalEvents === undefined) {\n        return;\n    }\n    const ymdString = createYmdString(ts.dates()[day]);\n    const event = historicalEvents[ymdString];\n    ``;\n    if (event === undefined) {\n        return;\n    }\n    return event;\n}\nexport function getEventMarker(ts, day) {\n    const event = getEventFrom(ts, day);\n    if (event === undefined) {\n        return event;\n    }\n    return {\n        color: event.colour,\n        marker: event.size ? { size: event.size } : undefined,\n    };\n}\n","export function buildJsChartingSeries(name) {\n    const series = createJsChartingSeriesData(name);\n    const seriesBuilder = {\n        addPoint(x, y, spreadIn = {}) {\n            series.points.push(Object.assign({ x,\n                y }, spreadIn));\n            return seriesBuilder;\n        },\n        colour(colour) {\n            this.setProp('color', colour);\n            return seriesBuilder;\n        },\n        lineColour(colour) {\n            this.setProp('line', { color: colour });\n            return seriesBuilder;\n        },\n        setProp(prop, value) {\n            series[prop] = value;\n            return seriesBuilder;\n        },\n        type(type) {\n            series.type = type;\n            return seriesBuilder;\n        },\n        collect() {\n            return series;\n        },\n    };\n    return seriesBuilder;\n}\nfunction createJsChartingSeriesData(name) {\n    return {\n        name,\n        points: [],\n    };\n}\n","import { getEventFrom } from './chart-events';\nexport function createToolTip(ts, dataSetIndex, day, fromDay0 = -1, isProjection = false) {\n    const fp = (num) => (num < 0.01 ? num.toFixed(6) : num.toFixed(2)).toLocaleString();\n    const header = (isProjection ? '<b><i>*** PROJECTION ***</i><br/>' : '') +\n        (fromDay0 < 0\n            ? `<b>${ts.formatName()}</b> ` + ts.dates()[day].toLocaleDateString() + `(${ts.dates()[day].getUTCDay()})`\n            : `<b>${ts.formatName()} Day ` +\n                fromDay0 +\n                '</b> (' +\n                ts.dates()[day].toLocaleDateString() +\n                ')') + `(${ts.dates()[day].getUTCDay()})` +\n        '<br/> Population ' +\n        ts.population().toLocaleString() +\n        (ts.populationDensity() ? ` (${ts.populationDensity()}/km2)` : '');\n    const footer = getEventTooltip(ts, day);\n    return (header +\n        '<br/><br/>' +\n        [\n            {\n                index: 0,\n                label: `Active ${ts.counts()[day].active.toLocaleString()} (${fp((ts.counts()[day].active / ts.population()) * 100)} %)`,\n            },\n            {\n                index: 1,\n                label: `Confirmed ${ts.counts()[day].confirmed.toLocaleString()} (${fp((ts.counts()[day].confirmed / ts.population()) * 100)} %)`,\n            },\n            {\n                index: 2,\n                label: `Deaths ${ts.counts()[day].deaths.toLocaleString()} (${fp((ts.counts()[day].deaths / ts.population()) * 100)} %)`,\n            },\n            {\n                index: 3,\n                label: `Recoveries ${ts\n                    .counts()[day].recoveries.toLocaleString()} (${fp((ts.counts()[day].recoveries / ts.population()) * 100)} %)`,\n            },\n        ]\n            .sort((a, b) => {\n            if (a.index === dataSetIndex) {\n                return -1;\n            }\n            if (b.index === dataSetIndex) {\n                return 1;\n            }\n            if (a.label < b.label) {\n                return -1;\n            }\n            if (a.label > b.label) {\n                return 1;\n            }\n            return 0;\n        })\n            .map(({ label }, i) => (i === 0 ? `<b>${label}</b>` : label))\n            .join('<br/>') +\n        '<br/><br/>' +\n        [\n            `New Cases: <b>${ts.counts()[day].newConfirmed.toLocaleString()}</b>`,\n            `New Deaths: <b>${ts.counts()[day].newDeaths.toLocaleString()}</b>`,\n        ].join('<br/>') +\n        footer);\n}\nfunction getEventTooltip(ts, day) {\n    const event = getEventFrom(ts, day);\n    if (event === undefined) {\n        return '';\n    }\n    return `<br/><br/>Event: ${event.description}`;\n}\n","import { createToolTip } from './tooltip';\nimport { Seir } from '../../seir';\nimport { jhuStartDay, twentyFourSeven } from '../../constants';\nimport { historicalEventsByCountry } from '../country-data';\nimport { createTimeSeriesCount } from '../time-series/time-series';\nimport { createYmdString } from '../../utility';\nexport function getSeirSeries(projections, dataSetIndex) {\n    if (dataSetIndex === 7) {\n        return projections.active;\n    }\n    if (dataSetIndex === 8) {\n        return projections.deaths;\n    }\n    if (dataSetIndex === 9) {\n        return projections.recoveries;\n    }\n}\nexport function createSeirPoints(state, ts, fromDay0, byMetric) {\n    const seir = Seir.create(ts.population(), ts.lastActive(), ts.lastDeaths());\n    seir.R0 = state.r0;\n    seir.incubationPeriod = state.incubationPeriod;\n    seir.durationOfInfection = state.durationOfInfection;\n    seir.fatalityRate = state.fatalityRate;\n    seir.timeFromIncubationToDeath = state.timeFromIncubationToDeath;\n    seir.lengthOfSevereHospitalStay = state.lengthOfSevereHospitalStay;\n    seir.recoveryTimeForMildCases = state.recoveryTimeForMildCases;\n    seir.hospitalizationRate = state.hospitalizationRate;\n    seir.timeFromIncubationToHospital = state.timeFromIncubationToHospital;\n    const dates = ts.dates();\n    const start = dates[dates.length - 1]\n        ? dates[dates.length - 1].getTime()\n        : new Date(jhuStartDay).getTime();\n    const solution = seir.getSolution(state.daysToProject, (s, r, i) => {\n        if (i > 0 && i < 2) {\n            const lastR0 = deduceLastR0(ts);\n            if (lastR0 > 1.6) {\n                s.R0 = lastR0 - 0.01;\n            }\n            else {\n                s.R0 = lastR0 - 0.55;\n            }\n        }\n        if (i > 1) {\n            if (s.R0 > 0.5) {\n                if (s.R0 > 1.6) {\n                    s.R0 -= 0.3;\n                }\n                else {\n                    s.R0 -= 0.01;\n                }\n            }\n        }\n    });\n    const max = solution.P.length < 35 ? solution.P.length : 35;\n    const active = [];\n    const deaths = [];\n    const recoveries = [];\n    const newCounts = [];\n    const newDates = [];\n    for (let i = 1; i < max; i += 1) {\n        const lastCount = newCounts[newCounts.length - 1] ||\n            ts.counts()[ts.counts().length - 1] ||\n            createTimeSeriesCount();\n        const count = createTimeSeriesCount();\n        count.active = solution.P[i][4];\n        count.newConfirmed = count.active - lastCount.active;\n        count.confirmed = lastCount.confirmed + count.active - lastCount.active;\n        count.deaths = solution.P[i][0];\n        count.newDeaths = count.deaths - lastCount.deaths;\n        count.recoveries = solution.P[i][2];\n        newCounts.push(count);\n        const lastDate = newDates[newDates.length - 1] || dates[dates.length - 1] || new Date();\n        newDates.push(new Date(lastDate.getTime() + (i > 1 ? twentyFourSeven : 0)));\n        const projectionTs = ts.cloneAndAppend(newCounts, newDates);\n        const x = fromDay0 === -1\n            ? new Date(start + (i - 1) * twentyFourSeven)\n            : fromDay0 + i - 1;\n        active.push({\n            tooltip: createToolTip(projectionTs, 0, projectionTs.counts().length - 1, fromDay0 === -1 ? -1 : fromDay0 + i - 1, true),\n            x,\n            y: byMetric === 0 ? count.active : (count.active / ts.population()) * 100,\n        });\n        deaths.push({\n            tooltip: createToolTip(projectionTs, 2, projectionTs.counts().length - 1, fromDay0, true),\n            x,\n            y: byMetric === 0 ? count.deaths : (count.deaths / ts.population()) * 100,\n        });\n        recoveries.push({\n            tooltip: createToolTip(projectionTs, 3, projectionTs.counts().length - 1, fromDay0, true),\n            x,\n            y: byMetric === 0\n                ? count.recoveries\n                : (count.recoveries / ts.population()) * 100,\n        });\n    }\n    return { active, deaths, recoveries };\n}\nfunction deduceLastR0(timeSeries, depth = 3) {\n    const activeTolerance = 50;\n    if (timeSeries.counts().length < 2 + depth) {\n        return Seir.r0;\n    }\n    const last = timeSeries.counts()[timeSeries.counts().length - 1 - depth];\n    const secondLast = timeSeries.counts()[timeSeries.counts().length - 2 - depth];\n    const seir = Seir.create(timeSeries.population(), secondLast.active, secondLast.deaths);\n    const step = 0.1;\n    let delta = Infinity;\n    seir.R0 = 3.5;\n    while (Math.abs(delta) > activeTolerance) {\n        const [_, __, ___, ____, active] = seir.getSolution(3).P[2];\n        if (active > last.active + activeTolerance) {\n            seir.R0 -= step;\n            continue;\n        }\n        if (active < last.active - activeTolerance) {\n            break;\n        }\n        if (active < last.active) {\n            break;\n        }\n        seir.R0 -= step;\n    }\n    if (depth <= 1) {\n        return seir.R0;\n    }\n    return (seir.R0 + deduceLastR0(timeSeries, depth - 1)) / 2;\n}\nfunction getEventFrom(ts, day) {\n    const historicalEvents = historicalEventsByCountry[ts.countryCode().toUpperCase()];\n    if (historicalEvents === undefined) {\n        return;\n    }\n    const ymdString = createYmdString(ts.dates()[day]);\n    const event = historicalEvents[ymdString];\n    ``;\n    if (event === undefined) {\n        return;\n    }\n    return event;\n}\n","import { getEventMarker } from './chart-events';\nimport { buildJsChartingSeries } from './js-charting-series';\nimport { createSeirPoints, getSeirSeries } from './seir-projection';\nimport { basePalette, projectionPalette } from '../../constants';\nimport { createTimeSeriesCount } from '../time-series/time-series';\nexport class ChartSelector {\n    constructor(tsc) {\n        this.tsc = tsc;\n    }\n    static create(timeSeriesCollection) {\n        return new ChartSelector(timeSeriesCollection);\n    }\n    selectConfirmedVsRecent(countries) {\n        return this.tsc.select(countries).map(selectConfirmedVsRecentCountry);\n    }\n    createSeirPoints(state, ts) {\n        const findStart = (c) => (index, el, i, arr) => {\n            if (index !== -1) {\n                return index;\n            }\n            if (el.confirmed >= c) {\n                return arr.length - i - 1;\n            }\n            return index;\n        };\n        let count = state.timeVsCountsState.mode === 0\n            ? -1\n            : state.timeVsCountsState.mode === 1\n                ? ts.counts().reduce(findStart(1), -1)\n                : ts.counts().reduce(findStart(100), -1);\n        return createSeirPoints(state.seirState, ts, count, state.timeVsCountsState.byMetric);\n    }\n    createSelectTimeVsCountsChart(ts, dataSetIndex, index) {\n        const field = getFieldFromIndex(dataSetIndex);\n        const colour = dataSetIndex > 5\n            ? projectionPalette[index % projectionPalette.length]\n            : basePalette[index % basePalette.length];\n        const type = dataSetIndex === 4 || dataSetIndex === 5 ? 'column' : undefined;\n        const chartBuilder = buildJsChartingSeries(getChartTypeFromIndex(dataSetIndex) + ' ' + ts.formatName())\n            .colour(colour)\n            .lineColour(colour)\n            .type(type);\n        return { chartBuilder, field };\n    }\n    createSelectTimeVsCountsCountryMapper(state) {\n        let count = 0;\n        const modeCount = state.timeVsCountsState.mode === 0\n            ? -1\n            : state.timeVsCountsState.mode === 1\n                ? 1\n                : 100;\n        return (ts) => {\n            const seirPoints = this.createSeirPoints(state, ts);\n            return state.timeVsCountsState.dataSetIndexes.map(dataSetIndex => {\n                const seirSeries = getSeirSeries(seirPoints, dataSetIndex);\n                const { chartBuilder, field } = this.createSelectTimeVsCountsChart(ts, dataSetIndex, count++);\n                if (seirSeries) {\n                    const chart = chartBuilder.collect();\n                    chart.points = seirSeries;\n                    return chart;\n                }\n                if (modeCount < 0) {\n                    ts.forEachDay((tsc, date) => {\n                        chartBuilder.addPoint(date, getY(state.timeVsCountsState.byMetric, tsc[field], ts.population()));\n                    });\n                }\n                else {\n                    let dayCount = 0;\n                    ts.forEachDayWhere(tsc => tsc.confirmed > modeCount, tsc => {\n                        chartBuilder.addPoint(dayCount++, getY(state.timeVsCountsState.byMetric, tsc[field], ts.population()));\n                    });\n                }\n                return chartBuilder.collect();\n            });\n        };\n    }\n    selectTimeVsCounts(state) {\n        return this.tsc\n            .select(state.countryKeys)\n            .map(this.createSelectTimeVsCountsCountryMapper(state))\n            .reduce(flatten);\n    }\n    select(state) {\n        if (state.routePath === '/') {\n            return this.selectTimeVsCounts(state);\n        }\n        else {\n            // confirmed vs recent\n            return this.selectConfirmedVsRecent(state.countryKeys);\n        }\n    }\n}\nfunction selectConfirmedVsRecentCountry(ts, index) {\n    const recent = 7;\n    const chart = buildJsChartingSeries(ts.formatName()).colour(basePalette[index % basePalette.length]);\n    const yMin = 1;\n    const xMin = 100;\n    for (let i = ts.counts().length - 1; i > recent; i -= 1) {\n        const count = ts.counts()[i];\n        const recentDaysAgo = ts.counts()[i - recent] || createTimeSeriesCount();\n        const y = count.confirmed - recentDaysAgo.confirmed || yMin;\n        if (count.confirmed < xMin) {\n            continue;\n        }\n        chart.addPoint(count.confirmed, y, getEventMarker(ts, i));\n    }\n    return chart.collect();\n}\nfunction flatten(arr, el) {\n    return [...arr, ...el];\n}\nfunction getFieldFromIndex(index) {\n    switch (index) {\n        case 0:\n            return 'active';\n        case 1:\n            return 'confirmed';\n        case 2:\n            return 'deaths';\n        case 3:\n            return 'recoveries';\n        case 4:\n            return 'newConfirmed';\n        case 5:\n            return 'newDeaths';\n        case 6:\n            return 'projectionReverseDeath';\n        default:\n            return 'recoveries';\n    }\n}\nfunction getChartTypeFromIndex(index) {\n    switch (index) {\n        case 0:\n            return '😷 (Active)';\n        case 1:\n            return '✔ (Confirmed)';\n        case 2:\n            return '☠ (Deaths)';\n        case 3:\n            return '😊 (Recoveries)';\n        case 4:\n            return '😷 (New Active)';\n        case 5:\n            return '☠ (New Deaths)';\n        case 6:\n            return '🤔 (Estimate)';\n        case 7:\n            return '😷 (SEIR Active)';\n        case 8:\n            return '☠ (SEIR Deaths)';\n        case 9:\n            return '😊 (SEIR Recoveries)';\n        default:\n            return '😊 (Recovery)';\n    }\n}\nfunction getY(byMetric, value, population) {\n    if (byMetric === 0) {\n        return value;\n    }\n    else {\n        if (population) {\n            return (value / population) * 100;\n        }\n        else {\n            return 0;\n        }\n    }\n}\n","import { CsvNytTimeSeries } from './data/csv/nyt-time-series';\nimport { TimeSeriesCollection } from './data/time-series/time-series-collection';\nimport { CsvJhuTimeSeries } from './data/csv/jhu-time-series';\nimport { TimeSeriesArray } from './data/time-series/time-series-array';\nimport { ChartSelector } from './data/js-charting/chart-selector';\nconst jhuUrls = [\n    // updated from previous deprecated files (https://github.com/CSSEGISandData/COVID-19/commit/203881b83c3820521f5af7cafb0d15367e415652)\n    'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv',\n    'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv',\n    'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv',\n];\nconst nytUrl = 'https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-states.csv';\nexport function fetchData(strings) {\n    return Promise.all([\n        Promise.all(jhuUrls.map(url => fetch(url)))\n            .then(unwrapResponses)\n            .then(jhuStringsToCsvs)\n            .then(TimeSeriesCollection.from),\n        fetch(nytUrl)\n            .then(unwrapResponse)\n            .then(CsvNytTimeSeries.create)\n            .then(TimeSeriesCollection.from),\n    ])\n        .then(TimeSeriesCollection.merge)\n        .then(ts => ts.interpolateRecoveriesActiveCasesAndNewProps())\n        .then(ts => ts.sumRegions())\n        .then(ts => ts.sumWorld())\n        .then(ts => ts.freeze())\n        .then(extractCountries);\n}\nfunction jhuStringsToCsvs(strings) {\n    return strings.map(string => CsvJhuTimeSeries.create(string));\n}\nfunction unwrapResponse(response) {\n    return response.text();\n}\nfunction unwrapResponses(responses) {\n    return Promise.all(responses.map(unwrapResponse));\n}\nfunction extractCountries(collection) {\n    const countries = collection\n        .reduce((arr, location) => {\n        const name = location.formatName();\n        arr.push({ index: location.key(), name });\n        return arr;\n    }, [])\n        .sort(sortByProp('name'));\n    const tsa = TimeSeriesArray.create();\n    collection.forEach(tsc => tsa.push(tsc));\n    return { countries, dictionary: collection, timeSeries: tsa };\n}\nfunction sortByProp(prop) {\n    return (a, b) => {\n        if (a[prop] < b[prop]) {\n            return -1;\n        }\n        if (a[prop] > b[prop]) {\n            return 1;\n        }\n        return 0;\n    };\n}\nexport function selectData(cache, state) {\n    /** @todo move away from dataPromise model */\n    return state.dataPromise.then(({ countries, dictionary }) => {\n        const cs = ChartSelector.create(dictionary);\n        const series = cs.select(state);\n        return {\n            countries,\n            series,\n        };\n    });\n}\n","import { fetchData } from '../data';\nimport { isNumber, isString, isBoolean } from '@ch1/utility';\nimport { log } from '../utility';\nimport { TimeSeriesArray } from '../data/time-series/time-series-array';\nimport { Seir } from '../seir';\nimport { defaultCountries, defaultDaysToProject, defaultDataset, defaultMode, defaultScaleType, defaultShowStates, defaultStart, } from '../constants';\nexport function createState(strings) {\n    return {\n        countries: [],\n        currentSeries: [],\n        data: TimeSeriesArray.create(),\n        dataPromise: fetchData(strings),\n        countryKeys: defaultCountries,\n        routePath: '/',\n        seirState: {\n            daysToProject: defaultDaysToProject,\n            r0: Seir.r0,\n            incubationPeriod: Seir.incubationPeriod,\n            durationOfInfection: Seir.durationOfInfection,\n            recoveryTimeForMildCases: Seir.recoveryTimeForMildCases,\n            timeFromIncubationToHospital: Seir.timeFromIncubationToDeath,\n            lengthOfSevereHospitalStay: Seir.lengthOfSevereHospitalStay,\n            timeFromIncubationToDeath: Seir.timeFromIncubationToDeath,\n            hospitalizationRate: Seir.hospitalizationRate,\n            fatalityRate: Seir.fatalityRate,\n        },\n        timeVsCountsState: {\n            dataSetIndexes: [defaultDataset],\n            byMetric: 0,\n            countryFilter: '',\n            isConfigOpen: false,\n            mode: defaultMode,\n            scaleType: defaultScaleType,\n            showSeirState: false,\n            showStates: defaultShowStates,\n            startDate: defaultStart,\n        },\n        tableState: {\n            columns: [1, 3, 5, 7, 9],\n            isConfigOpen: false,\n            showAll: true,\n            sortByActive: false,\n            sortByActivePercent: false,\n            sortByConfirmed: false,\n            sortByConfirmedPercent: false,\n            sortByDeaths: false,\n            sortByDeathsPercent: false,\n            sortByNewConfirmed: false,\n            sortByNewDeaths: false,\n            sortByRecoveries: false,\n            sortByRecoveriesPercent: false,\n            sortByPeakActive: false,\n            sortByPeakActivePercent: false,\n            sortByPeakNewConfirmed: false,\n            sortByPeakNewDeaths: false,\n            sortByPopulation: false,\n            sortByPopulationDensity: false,\n        },\n        confirmedVsRecentState: {\n            countryFilter: '',\n            isConfigOpen: false,\n            showStates: defaultShowStates,\n        },\n    };\n}\nexport function saveState(state) {\n    if (window.localStorage) {\n        window.localStorage.setItem('state', JSON.stringify(Object.assign(Object.assign({}, state), { currentSeries: undefined, data: undefined, dataPromise: undefined })));\n    }\n}\nexport function loadState(strings) {\n    if (window.localStorage) {\n        const item = window.localStorage.getItem('state');\n        if (item) {\n            try {\n                const parsed = JSON.parse(item);\n                if (!parsed) {\n                    return null;\n                }\n                if (isSavedAppState(parsed) === false) {\n                    log(strings.state.wipingOld);\n                    window.localStorage.setItem('state', '');\n                    return null;\n                }\n                return Object.assign(Object.assign({}, parsed), { currentSeries: [], dataPromise: fetchData(strings), data: TimeSeriesArray.create() });\n            }\n            catch (e) {\n                log(strings.state.parseFail);\n                window.localStorage.setItem('state', '');\n                return null;\n            }\n        }\n    }\n    return null;\n}\nconst dataTypeAppState = [\n    { prop: 'countries', is: Array.isArray },\n    { prop: 'timeVsCountsState', is: isSavedTimeVsCountsState },\n    { prop: 'countryKeys', is: Array.isArray },\n    { prop: 'tableState', is: isSavedTableState },\n    { prop: 'confirmedVsRecentState', is: isConfirmedVsRecentState },\n    { prop: 'seirState', is: isSeirState },\n];\nconst dataTypeSavedTimeVsCountsState = [\n    { prop: 'isConfigOpen', is: isBoolean },\n    { prop: 'byMetric', is: isNumber },\n    { prop: 'countryFilter', is: isString },\n    { prop: 'dataSetIndexes', is: Array.isArray },\n    { prop: 'mode', is: isNumber },\n    { prop: 'showStates', is: isBoolean },\n    { prop: 'showSeirState', is: isBoolean },\n    { prop: 'startDate', is: isString },\n];\nconst dataTypeSavedTableState = [\n    { prop: 'columns', is: Array.isArray },\n    { prop: 'isConfigOpen', is: isBoolean },\n    { prop: 'showAll', is: isBoolean },\n    { prop: 'sortByActive', is: isBoolean },\n    { prop: 'sortByActivePercent', is: isBoolean },\n    { prop: 'sortByConfirmed', is: isBoolean },\n    { prop: 'sortByConfirmedPercent', is: isBoolean },\n    { prop: 'sortByDeaths', is: isBoolean },\n    { prop: 'sortByDeathsPercent', is: isBoolean },\n    { prop: 'sortByRecoveries', is: isBoolean },\n    { prop: 'sortByRecoveriesPercent', is: isBoolean },\n    { prop: 'sortByPeakActive', is: isBoolean },\n    { prop: 'sortByPeakActivePercent', is: isBoolean },\n    { prop: 'sortByPopulation', is: isBoolean },\n    { prop: 'sortByPopulationDensity', is: isBoolean },\n];\nconst dataTypeInputSeirSavedState = [\n    { prop: 'daysToProject', is: isNumber },\n    { prop: 'r0', is: isNumber },\n    { prop: 'incubationPeriod', is: isNumber },\n    { prop: 'durationOfInfection', is: isNumber },\n    { prop: 'fatalityRate', is: isNumber },\n    { prop: 'timeFromIncubationToDeath', is: isNumber },\n    { prop: 'lengthOfSevereHospitalStay', is: isNumber },\n    { prop: 'recoveryTimeForMildCases', is: isNumber },\n    { prop: 'hospitalizationRate', is: isNumber },\n    { prop: 'timeFromIncubationToHospital', is: isNumber },\n];\nfunction isDataType(dt, thing) {\n    if (!thing) {\n        return false;\n    }\n    return dt.reduce((r, pi) => {\n        if (r === false) {\n            return r;\n        }\n        return pi.is(thing[pi.prop]);\n    }, true);\n}\nfunction isSavedAppState(thing) {\n    return isDataType(dataTypeAppState, thing);\n}\nfunction isSavedTimeVsCountsState(thing) {\n    return isDataType(dataTypeSavedTimeVsCountsState, thing);\n}\nfunction isSavedTableState(thing) {\n    return isDataType(dataTypeSavedTableState, thing);\n}\nfunction isSeirState(thing) {\n    return isDataType(dataTypeInputSeirSavedState, thing);\n}\nexport function getSavedLanguage() {\n    if (window.localStorage) {\n        return window.localStorage.getItem('language') || '';\n    }\n}\nexport function saveLanguage(language) {\n    if (window.localStorage) {\n        window.localStorage.setItem('language', language);\n    }\n}\nfunction isConfirmedVsRecentState(thing) {\n    if (!thing) {\n        return false;\n    }\n    if (isString(thing.countryFilter) === false) {\n        return false;\n    }\n    if (isBoolean(thing.isConfigOpen) === false) {\n        return false;\n    }\n    if (isBoolean(thing.showStates) === false) {\n        return false;\n    }\n    return true;\n}\n","import { Component, h } from 'preact';\nimport { rowEven, rowOdd, rowHighlight, fullSize, flexCol, flexItem95, flex, flexItem60, styles, borderCurved, padding, tableBorderCollapse, displayBlock, textAlignLeft, } from '../style';\nimport { ButtonToggle } from '../components/input/button-toggle';\nimport { SelectMultiple } from '../components/input/select-multiple';\nimport { noop } from '@ch1/utility';\nimport { Select } from '../components/input/select';\nimport { Menu } from '../components/menu';\nconst thClasses = [borderCurved, padding, displayBlock, textAlignLeft].join(' ');\nconst tdClasses = [padding, displayBlock, textAlignLeft].join(' ');\nexport class LearningTable extends Component {\n    constructor() {\n        super();\n        this.state = {};\n    }\n    formatNumber(value) {\n        return value.toLocaleString();\n    }\n    formatDecimal(value, decimals = 2) {\n        return value.toFixed(decimals);\n    }\n    formatPercent(value, decimals = 2) {\n        return this.formatDecimal(value, decimals) + '%';\n    }\n    clickHeader(t) {\n        this.props.timeSeries[t.sort](this.props.state[t.sort]);\n        this.props.onChange(Object.assign(Object.assign({}, this.props.state), { [t.sort]: this.props.state[t.sort] ? false : true }));\n    }\n    toggleConfig(v) {\n        this.props.onChange(Object.assign(Object.assign({}, this.props.state), { isConfigOpen: v }));\n    }\n    toggleShowAll() {\n        this.props.onChange(Object.assign(Object.assign({}, this.props.state), { showAll: this.props.state.showAll ? false : true }));\n    }\n    onChangeColumns(column) {\n        if (this.props.state.columns.indexOf(column) === -1) {\n            if (this.props.state.columns.length < 6) {\n                this.props.onChange(Object.assign(Object.assign({}, this.props.state), { columns: this.props.state.columns.concat([column]) }));\n            }\n            else {\n                this.props.onChange(Object.assign(Object.assign({}, this.props.state), { columns: this.props.state.columns.slice(0) }));\n            }\n        }\n        else {\n            this.props.onChange(Object.assign(Object.assign({}, this.props.state), { columns: this.props.state.columns.filter(i => i !== column) }));\n        }\n    }\n    render() {\n        const header = [\n            {\n                label: this.props.strings.learningTable.titles.region,\n                sort: 'sortByCountry',\n                value: (ts) => ts.formatName(),\n            },\n        ].concat([\n            {\n                label: this.props.strings.learningTable.titles.active,\n                sort: 'sortByActive',\n                value: (ts) => ts.lastActive().toLocaleString(),\n            },\n            {\n                label: this.props.strings.learningTable.titles.activePercent,\n                sort: 'sortByActivePercent',\n                value: (ts) => ts\n                    .lastActivePercent()\n                    .toFixed(3)\n                    .toLocaleString() + '%',\n            },\n            {\n                label: this.props.strings.learningTable.titles.confirmed,\n                sort: 'sortByConfirmed',\n                value: (ts) => ts.lastConfirmed().toLocaleString(),\n            },\n            {\n                label: this.props.strings.learningTable.titles.confirmedPercent,\n                sort: 'sortByConfirmedPercent',\n                value: (ts) => ts\n                    .lastConfirmedPercent()\n                    .toFixed(3)\n                    .toLocaleString() + '%',\n            },\n            {\n                label: this.props.strings.learningTable.titles.deaths,\n                sort: 'sortByDeaths',\n                value: (ts) => ts.lastDeaths().toLocaleString(),\n            },\n            {\n                label: this.props.strings.learningTable.titles.deathsPercent,\n                sort: 'sortByDeathsPercent',\n                value: (ts) => ts\n                    .lastDeathsPercent()\n                    .toFixed(6)\n                    .toLocaleString() + '%',\n            },\n            {\n                label: this.props.strings.learningTable.titles.recoveries,\n                sort: 'sortByRecoveries',\n                value: (ts) => ts.lastRecoveries().toLocaleString(),\n            },\n            {\n                label: this.props.strings.learningTable.titles.recoveriesPercent,\n                sort: 'sortByRecoveriesPercent',\n                value: (ts) => ts\n                    .lastRecoveriesPercent()\n                    .toFixed(3)\n                    .toLocaleString() + '%',\n            },\n            {\n                label: this.props.strings.learningTable.titles.mortality,\n                sort: 'sortByMortality',\n                value: (ts) => ts.lastMortality().toLocaleString() + '%',\n            },\n            {\n                label: this.props.strings.learningTable.titles.newConfirmed,\n                sort: 'sortByNewConfirmed',\n                value: (ts) => ts.lastNewConfirmed().toLocaleString(),\n            },\n            {\n                label: this.props.strings.learningTable.titles.newDeaths,\n                sort: 'sortByNewDeaths',\n                value: (ts) => ts.lastNewDeaths().toLocaleString(),\n            },\n            {\n                label: this.props.strings.learningTable.titles.peakActive,\n                sort: 'sortByPeakActive',\n                value: (ts) => ts.peakActive().toLocaleString(),\n            },\n            {\n                label: this.props.strings.learningTable.titles.peakActivePercent,\n                sort: 'sortByPeakActivePercent',\n                value: (ts) => ts\n                    .peakActivePercent()\n                    .toFixed(3)\n                    .toLocaleString() + '%',\n            },\n            {\n                label: this.props.strings.learningTable.titles.peakMortality,\n                sort: 'sortByPeakMortality',\n                value: (ts) => ts.peakMortality().toLocaleString() + '%',\n            },\n            {\n                label: this.props.strings.learningTable.titles.peakNewConfirmed,\n                sort: 'sortByPeakNewConfirmed',\n                value: (ts) => ts.peakNewConfirmed().toLocaleString(),\n            },\n            {\n                label: this.props.strings.learningTable.titles.peakNewDeaths,\n                sort: 'sortByPeakNewDeaths',\n                value: (ts) => ts.peakNewDeaths().toLocaleString(),\n            },\n            {\n                label: this.props.strings.learningTable.titles.population,\n                sort: 'sortByPopulation',\n                value: (ts) => ts.population().toLocaleString(),\n            },\n            {\n                label: this.props.strings.learningTable.titles.populationDensity,\n                sort: 'sortByPopulationDensity',\n                value: (ts) => ts.populationDensity().toLocaleString(),\n            },\n        ].sort((a, b) => {\n            if (a.label < b.label) {\n                return -1;\n            }\n            if (a.label > b.label) {\n                return 1;\n            }\n            return 0;\n        }));\n        const tbody = window.document.body.clientHeight *\n            (this.props.state.isConfigOpen ? 0.6 : 0.82);\n        const width = `width: ${100 / (this.props.state.columns.length || 1)}%;`;\n        return (h(\"section\", { className: `${fullSize} ${flexCol}` },\n            h(\"section\", { className: this.props.state.isConfigOpen ? flexItem60 : flexItem95 },\n                h(\"table\", { style: `height: ${this.props.state.isConfigOpen ? 83 : 90}%; width: 100%;`, className: tableBorderCollapse },\n                    h(\"thead\", { className: displayBlock },\n                        h(\"tr\", { className: flex }, header.map((t, i) => i === 0 || this.props.state.columns.indexOf(i) > -1 ? (h(\"th\", { className: thClasses, style: width, onClick: () => this.clickHeader(t) }, t.label)) : ('')))),\n                    h(\"tbody\", { className: displayBlock, style: `overflow: auto; max-height: ${tbody}px;` }, this.props.timeSeries.map((ts, tsIndex) => {\n                        if (ts.counts().length < 1) {\n                            return '';\n                        }\n                        if (this.props.state.showAll === false) {\n                            if (this.props.countryKeys.indexOf(ts.key()) === -1) {\n                                return '';\n                            }\n                        }\n                        const rowParity = tsIndex % 2 === 0 ? rowEven : rowOdd;\n                        const rowClass = this.props.countryKeys.indexOf(ts.key()) > -1\n                            ? rowHighlight + ' ' + rowParity\n                            : rowParity;\n                        return (h(\"tr\", { className: [rowClass, flex].join(' '), onClick: () => this.props.selectCountry(ts.key()) }, header.map((t, i) => i === 0 || this.props.state.columns.indexOf(i) > -1 ? (h(\"td\", { className: tdClasses, style: width }, t.value(ts))) : (''))));\n                    })))),\n            h(\"section\", null,\n                h(\"section\", { className: flex },\n                    h(ButtonToggle, { classes: styles.button, labelTrue: this.props.strings.learningTable.enlarge, labelFalse: this.props.strings.learningTable.configure, onClick: this.toggleConfig.bind(this), state: this.props.state.isConfigOpen }),\n                    h(Menu, { config: this.props.menu })),\n                this.props.state.isConfigOpen ? (h(\"section\", { className: flex },\n                    h(SelectMultiple, { classes: styles.selectBox, onChange: noop, onClick: v => this.onChangeColumns(parseInt(v + '', 10) + 1), options: header.map(item => item.label).slice(1), selected: this.props.state.columns.map(c => c - 1) }),\n                    h(Select, { classes: styles.selectBox, onChange: this.toggleShowAll.bind(this), options: [\n                            this.props.strings.learningTable.showAll,\n                            this.props.strings.learningTable.showOnlySelected,\n                        ], selected: this.props.state.showAll ? 0 : 1 }))) : (''))));\n    }\n}\n","import { h } from 'preact';\nexport function Header({ strings }) {\n    return (h(\"header\", { class: \"small-text\" },\n        strings.header.title,\n        \"\\u00A0\",\n        h(\"a\", { href: \"https://github.com/CSSEGISandData/COVID-19\", target: \"_blank\", title: strings.header.jhuGitHubTitle }, strings.header.jhuSourceDataLink),\n        \"\\u00A0\",\n        strings.header.explorer,\n        \", \",\n        strings.header.usData,\n        \"\\u00A0\",\n        h(\"a\", { href: \"https://github.com/nytimes/covid-19-data\", target: \"_blank\", title: strings.header.usDataTitle }, strings.header.usDataLink),\n        \"\\u00A0 (\",\n        h(\"a\", { href: \"https://github.com/bennett000/covid-19\", target: \"_blank\", title: strings.header.sourceCodeTitle }, strings.header.sourceCodeLink),\n        \"\\u00A0|\\u00A0\",\n        h(\"a\", { href: \"https://github.com/bennett000/covid-19/issues\", target: \"_blank\", title: strings.header.feedbackTitle }, strings.header.feedbackLink),\n        \")\"));\n}\n","import { Component, h } from 'preact';\nimport { flexCol, fullSize, flex, flexItem95, flexItem60, highlight, styles, green, } from '../style';\nimport { Menu } from '../components/menu';\nimport { Chart } from '../components/chart';\nimport { ButtonToggle } from '../components/input/button-toggle';\nimport { SelectMultipleFilter } from '../components/input/select-multiple-filter';\nimport { filterStates } from '../../utility';\nimport { Select } from '../components/input/select';\nexport class ConfirmedVsRecent extends Component {\n    constructor() {\n        super();\n        this.state = {};\n    }\n    selectShowStates(showOrHide) {\n        this.props.onChange(Object.assign(Object.assign({}, this.props.state), { showStates: parseInt(showOrHide + '', 10) === 0 ? false : true }));\n    }\n    setCountryFilter(filter) {\n        this.props.onChange(Object.assign(Object.assign({}, this.props.state), { countryFilter: filter }));\n    }\n    toggleConfig(v) {\n        this.props.onChange(Object.assign(Object.assign({}, this.props.state), { isConfigOpen: v }));\n    }\n    render() {\n        const classes = this.props.state.isConfigOpen === false &&\n            this.props.countryKeys.length === 0\n            ? [green]\n            : [];\n        return (h(\"section\", { className: `${fullSize} ${flexCol}` },\n            h(Chart, { flexSize: this.props.state.isConfigOpen ? flexItem60 : flexItem95, options: {\n                    xAxis: { scale: { type: 'logarithmic' } },\n                    xAxis_label_text: this.props.strings.confirmedVsRecent\n                        .confirmedCases,\n                    yAxis: { scale: { type: 'logarithmic' } },\n                    yAxis_label_text: this.props.strings.confirmedVsRecent\n                        .recentCases,\n                    series: this.props.currentSeries,\n                    legend: {\n                        template: '%icon %name',\n                    },\n                }, strings: this.props.strings }),\n            h(\"section\", { className: flex },\n                h(ButtonToggle, { classes: styles.button.concat(classes), labelTrue: this.props.strings.confirmedVsRecent.enlarge, labelFalse: this.props.strings.confirmedVsRecent.configure, onClick: this.toggleConfig.bind(this), state: this.props.state.isConfigOpen }),\n                h(Menu, { config: this.props.menu })),\n            this.props.state.isConfigOpen ? (h(\"section\", { className: `${flex}` },\n                h(SelectMultipleFilter, { classes: this.props.countryKeys.length === 0 ? [highlight] : [], inputButtonClasses: styles.button, inputSelectClasses: styles.selectBox, inputStringClasses: styles.input, filter: this.props.state.countryFilter, onUpdateFilter: this.setCountryFilter.bind(this), onChange: this.props.selectCountries, onClear: this.props.clearCountries, onDeselect: this.props.selectCountry, options: this.props.countries.filter(filterStates(this.props.state.showStates, this.props.strings)), selected: this.props.countryKeys }),\n                h(Select, { classes: styles.selectBox, onChange: this.selectShowStates.bind(this), options: this.props.strings.states, selected: this.props.state.showStates ? 1 : 0 }))) : ('')));\n    }\n}\n","import { Component, h } from 'preact';\nimport { fullSize } from '../style';\nexport class ChartMap extends Component {\n    constructor() {\n        super();\n    }\n    componentDidMount() {\n        this.base.id = 'chartMapDiv';\n        if (!this.chart) {\n            this.chart = JSC.Chart('chartMapDiv', this.getChartOptions());\n        }\n    }\n    componentWillReceiveProps(props) {\n        if (this.chart) {\n            this.chart.options(this.getChartOptions(props));\n        }\n    }\n    getChartOptions(props = this.props) {\n        return {\n            title_label_text: props.title || '',\n            type: 'map',\n            defaultPoint: {\n                attributes: {\n                    toolTip: '<b>%name</b>',\n                },\n                tooltip: '%toolTip',\n                z: 0,\n            },\n            palette: {\n                pointValue: p => p.options('z'),\n                ranges: props.ranges,\n            },\n            series: props.series,\n        };\n    }\n    render() {\n        return h(\"div\", { className: fullSize });\n    }\n}\n","import { Component, h } from 'preact';\nimport { ChartMap } from '../components/map';\nimport { Menu } from '../components/menu';\nimport { activeRanges, confirmedRanges, deathRanges, recoveryRanges, usaCode, jhuStartDay, } from '../../constants';\nimport { flexCol, fullSize, flex, styles } from '../style';\nimport { countriesToContinents, statesToCodes } from '../../data/country-data';\nimport { Select } from '../components/input/select';\nimport { noop, objReduce } from '@ch1/utility';\nimport { ButtonToggle } from '../components/input/button-toggle';\nimport { createToolTip } from '../../data/js-charting/tooltip';\nimport { generateDateDictionary } from '../../utility';\nconst excludeFromMap = {\n    '': true,\n    AG: true,\n    BB: true,\n    BH: true,\n    'CN.HK': 'HK',\n    'CN.MO': 'MO',\n    CV: true,\n    DM: true,\n    GD: true,\n    KN: true,\n    LC: true,\n    MT: true,\n    MU: true,\n    MV: true,\n    PO: true,\n    TL: 'TP',\n    SC: true,\n    SG: true,\n    'US.GU': true,\n    'US.PR': true,\n    'US.VI': true,\n    VC: true,\n};\nexport class Geography extends Component {\n    constructor() {\n        super();\n        this.state = {\n            currentSeries: -1,\n            dataSet: 0,\n            isPlaying: false,\n            map: 'world',\n            menuProp: {\n                labels: [],\n                onClick: noop,\n                selected: -1,\n            },\n            timer: 0,\n            title: '',\n        };\n        this.dates = objReduce(generateDateDictionary(), (arr, index, dateString) => {\n            arr[index] = dateString;\n            return arr;\n        }, []);\n        this.getSeries = this.getCountrySeries;\n    }\n    componentWillReceiveProps(props) {\n        this.setState(Object.assign(Object.assign({}, this.state), { menuProp: Object.assign(Object.assign({}, props.menu), { disabled: this.state.isPlaying }) }));\n    }\n    countryFromClick(e) {\n        if (!e) {\n            return null;\n        }\n        if (!e.currentTarget) {\n            return null;\n        }\n        if (!e.currentTarget.currentOptions) {\n            return null;\n        }\n        if (!e.currentTarget.currentOptions.map) {\n            return null;\n        }\n        if (!e.currentTarget.currentOptions.map.properties) {\n            return null;\n        }\n        if (!e.currentTarget.currentOptions.map.properties.mapcode) {\n            return null;\n        }\n        return e.currentTarget.currentOptions.map.properties.mapcode;\n    }\n    continentFromClick(e) {\n        if (!e) {\n            return null;\n        }\n        if (!e.currentTarget) {\n            return null;\n        }\n        if (!e.currentTarget.currentOptions) {\n            return null;\n        }\n        if (!e.currentTarget.currentOptions.map) {\n            return null;\n        }\n        if (!e.currentTarget.currentOptions.map.properties) {\n            return null;\n        }\n        if (!e.currentTarget.currentOptions.map.properties.continent) {\n            return null;\n        }\n        return e.currentTarget.currentOptions.map.properties.continent;\n    }\n    getMapTitle(index) {\n        if (index === undefined) {\n            return new Date(this.dates[this.dates.length - 1]).toLocaleDateString();\n        }\n        return (this.getSeriesName() +\n            ' ' +\n            new Date(this.dates[index]).toLocaleDateString());\n    }\n    getSeriesName() {\n        switch (this.state.dataSet) {\n            case 0:\n                return this.props.strings.geography.mode0;\n            case 1:\n                return this.props.strings.geography.mode1;\n            case 2:\n                return this.props.strings.geography.mode2;\n            case 3:\n                return this.props.strings.geography.mode3;\n            default:\n                return this.props.strings.geography.mode0;\n        }\n    }\n    togglePlay() {\n        const isPlaying = this.state.isPlaying ? false : true;\n        const startDate = new Date(jhuStartDay).getTime();\n        const days = Math.floor((Date.now() - 24 * 60 * 60 * 1000 - startDate) / 1000 / 60 / 60 / 24);\n        this.setState(Object.assign(Object.assign({}, this.state), { isPlaying, currentSeries: isPlaying ? 0 : -1, menuProp: Object.assign(Object.assign({}, this.state.menuProp), { disable: isPlaying }), title: this.getMapTitle(), timer: isPlaying\n                ? setInterval(() => {\n                    if (this.state.currentSeries >= days) {\n                        this.togglePlay();\n                        return;\n                    }\n                    this.setState(Object.assign(Object.assign({}, this.state), { currentSeries: this.state.currentSeries + 1, title: this.getMapTitle(this.state.currentSeries + 1) }));\n                }, 500)\n                : clearInterval(this.state.timer) }));\n    }\n    onMapClick(e) {\n        const c = this.countryFromClick(e);\n        switch (c.toLowerCase()) {\n            case 'au':\n                this.getSeries = this.getStateSeries.bind(this, 'Australia', 'AU');\n                this.setState(Object.assign(Object.assign({}, this.state), { map: 'au' }));\n                break;\n            case 'ca':\n                this.getSeries = this.getStateSeries.bind(this, 'Canada', 'CA');\n                this.setState(Object.assign(Object.assign({}, this.state), { map: 'ca' }));\n                break;\n            case 'cn':\n                this.getSeries = this.getStateSeries.bind(this, 'China', 'CN');\n                this.setState(Object.assign(Object.assign({}, this.state), { map: 'cn' }));\n                break;\n            case usaCode.toLowerCase():\n                this.getSeries = this.getStateSeries.bind(this, usaCode, usaCode);\n                this.setState(Object.assign(Object.assign({}, this.state), { map: usaCode.toLowerCase() }));\n                break;\n            default:\n                this.tryContinent(e);\n                break;\n        }\n    }\n    tryContinent(e) {\n        const continent = this.continentFromClick(e);\n        if (!continent) {\n            return;\n        }\n        let finalContinent = continent;\n        if (continent === 'North America' || continent === 'South America') {\n            finalContinent = 'Americas';\n        }\n        this.getSeries = this.getContinentSeries.bind(this, continent);\n        this.setState(Object.assign(Object.assign({}, this.state), { map: finalContinent }));\n    }\n    getCountrySeries(record = -1) {\n        let max = 0;\n        const s = [];\n        this.props.timeSeries.forEach(ts => {\n            const code = ts.countryCode();\n            if (code === this.props.strings.countries.world) {\n                return null;\n            }\n            if (excludeFromMap[code]) {\n                return null;\n            }\n            if (ts.state()) {\n                if (ts.state() !== this.props.strings.countries.total) {\n                    return null;\n                }\n            }\n            if (!ts.population()) {\n                return null;\n            }\n            const value = getFromDataSet(this.state.dataSet, ts, record);\n            if (value < 1) {\n                return null;\n            }\n            if (value > max) {\n                max = value;\n            }\n            s.push({\n                attributes: {\n                    toolTip: createToolTip(ts, this.state.dataSet, ts.counts().length - 1),\n                },\n                map: 'WORLD.' + code.toLowerCase(),\n                z: value,\n            });\n        });\n        return {\n            ranges: getRangesFromDataSet(this.state.dataSet),\n            series: [\n                {\n                    defaultPoint_events_click: this.onMapClick.bind(this),\n                    map: this.state.map,\n                    points: s,\n                },\n            ],\n        };\n    }\n    getContinentSeries(continent, record = -1) {\n        let max = 0;\n        const s = [];\n        this.props.timeSeries.forEach(ts => {\n            const isIn = countriesToContinents[ts.country()];\n            if (!isIn) {\n                return null;\n            }\n            if (isIn !== continent) {\n                if (isIn.indexOf('America') > -1 && continent.indexOf('America') > -1) {\n                }\n                else {\n                    return null;\n                }\n            }\n            if (ts.state()) {\n                if (ts.state() !== this.props.strings.countries.total) {\n                    return null;\n                }\n            }\n            const code = ts.countryCode();\n            if (excludeFromMap[code]) {\n                return null;\n            }\n            const value = getFromDataSet(this.state.dataSet, ts, record);\n            if (value < 1) {\n                return null;\n            }\n            if (value > max) {\n                max = value;\n            }\n            s.push({\n                attributes: {\n                    toolTip: createToolTip(ts, this.state.dataSet, ts.counts().length - 1),\n                },\n                map: code.toLowerCase(),\n                z: value,\n            });\n        });\n        return {\n            ranges: getRangesFromDataSet(this.state.dataSet),\n            series: [\n                {\n                    defaultPoint_events_click: this.onMapClick.bind(this),\n                    map: this.state.map,\n                    points: s,\n                },\n            ],\n        };\n    }\n    getStateSeries(country, countryCode, record = -1) {\n        let max = 0;\n        const s = [];\n        this.props.timeSeries.forEach(ts => {\n            if (ts.country() !== country) {\n                return null;\n            }\n            if (ts.state() === this.props.strings.countries.total) {\n                return null;\n            }\n            let stc = statesToCodes[country];\n            if (!stc) {\n                return null;\n            }\n            const code = ts.stateCode();\n            if (!code) {\n                return null;\n            }\n            if (excludeFromMap[ts.countryCode() + '.' + code]) {\n                return null;\n            }\n            const value = getFromDataSet(this.state.dataSet, ts, record);\n            if (value < 1) {\n                return null;\n            }\n            if (value > max) {\n                max = value;\n            }\n            s.push({\n                attributes: {\n                    toolTip: createToolTip(ts, this.state.dataSet, ts.counts().length - 1),\n                },\n                map: countryCode + '.' + code,\n                z: value,\n            });\n        });\n        return {\n            ranges: getRangesFromDataSet(this.state.dataSet),\n            series: [\n                {\n                    defaultPoint_events_click: this.onMapClick.bind(this),\n                    map: this.state.map,\n                    points: s,\n                },\n            ],\n        };\n    }\n    onChangeDataSet(index) {\n        const int = parseInt(index + '', 10);\n        this.setState(Object.assign(Object.assign({}, this.state), { dataSet: int }));\n    }\n    zoomOut() {\n        this.getSeries = this.getCountrySeries;\n        if (this.state.map !== 'world') {\n            this.setState(Object.assign(Object.assign({}, this.state), { map: 'world' }));\n        }\n    }\n    render() {\n        const { ranges, series } = this.getSeries(this.state.currentSeries);\n        return (h(\"section\", { onClick: this.zoomOut.bind(this), className: `${fullSize} ${flexCol}` },\n            h(ChartMap, { ranges: ranges, series: series, strings: this.props.strings, title: this.state.title }),\n            h(\"section\", { className: flex },\n                h(Select, { classes: styles.selectBox, onChange: this.onChangeDataSet.bind(this), options: [\n                        this.props.strings.series.activeCases,\n                        this.props.strings.series.confirmedCases,\n                        this.props.strings.series.deaths,\n                        this.props.strings.series.recoveries,\n                    ], selected: this.state.dataSet }),\n                h(ButtonToggle, { classes: styles.button, labelFalse: this.props.strings.geography.play, labelTrue: this.props.strings.geography.stop, onClick: this.togglePlay.bind(this), state: this.state.isPlaying }),\n                h(Menu, { config: this.state.menuProp }))));\n    }\n}\nfunction getFromDataSet(index, ts, record = -1) {\n    if (record < 0) {\n        switch (index) {\n            case 0:\n                return ts.lastActive();\n            case 1:\n                return ts.lastConfirmed();\n            case 2:\n                return ts.lastDeaths();\n            case 3:\n                return ts.lastRecoveries();\n            default:\n                return ts.lastActive();\n        }\n    }\n    else {\n        switch (index) {\n            case 0:\n                return ts.counts()[record].active || 0;\n            case 1:\n                return ts.counts()[record].confirmed || 0;\n            case 2:\n                return ts.counts()[record].deaths || 0;\n            case 3:\n                return ts.counts()[record].recoveries || 0;\n            default:\n                return ts.counts()[record].active || 0;\n        }\n    }\n}\nfunction getRangesFromDataSet(index) {\n    switch (index) {\n        case 0:\n            return activeRanges;\n        case 1:\n            return confirmedRanges;\n        case 2:\n            return deathRanges;\n        case 3:\n            return recoveryRanges;\n        default:\n            return activeRanges;\n    }\n}\n","import { h } from 'preact';\nexport function AboutList({ title, list, }) {\n    return (h(\"section\", null,\n        h(\"h3\", null, title),\n        h(\"ul\", null, list.map(d => (h(\"li\", null,\n            h(\"strong\", null,\n                d.name,\n                \":\"),\n            \"\\u00A0\",\n            typeof d.description === 'function'\n                ? d.description()\n                : d.description))))));\n}\n","import { Component, h } from 'preact';\nimport { fullSize } from '../style';\nimport { Menu } from '../components/menu';\nimport { AboutList } from '../components/about-list';\nexport class About extends Component {\n    constructor() {\n        super();\n        this.state = {};\n    }\n    render() {\n        const definitionsSeries = [\n            {\n                name: this.props.strings.series.activeCases,\n                description: this.props.strings.descriptions.series.activeCases,\n            },\n            {\n                name: this.props.strings.series.confirmedCases,\n                description: this.props.strings.descriptions.series.confirmedCases,\n            },\n            {\n                name: this.props.strings.series.deaths,\n                description: this.props.strings.descriptions.series.deaths,\n            },\n            {\n                name: this.props.strings.series.recoveries,\n                description: this.props.strings.descriptions.series.recoveries,\n            },\n            {\n                name: this.props.strings.series.estimatedActiveCases,\n                description: () => (h(\"span\", null,\n                    this.props.strings.descriptions.series.estimatedActiveCases.part1,\n                    \"\\u00A0\",\n                    h(\"a\", { href: this.props.strings.descriptions.series.estimatedActiveCases.url, target: \"_blank\" }, this.props.strings.descriptions.series.estimatedActiveCases.link),\n                    ' ',\n                    this.props.strings.descriptions.series.estimatedActiveCases.part2)),\n            },\n            {\n                name: this.props.strings.descriptions.series.projectionSeir.title,\n                description: () => (h(\"span\", null,\n                    this.props.strings.descriptions.series.projectionSeir.part1,\n                    \"\\u00A0\",\n                    h(\"a\", { href: this.props.strings.descriptions.series.projectionSeir.url, target: \"_blank\" }, this.props.strings.descriptions.series.projectionSeir.link),\n                    ' ',\n                    this.props.strings.descriptions.series.projectionSeir.part2)),\n            },\n        ];\n        const definitionsMetrics = [\n            {\n                name: this.props.strings.metrics.byValue,\n                description: this.props.strings.descriptions.metrics.byValue,\n            },\n            {\n                name: this.props.strings.metrics.byPercent,\n                description: this.props.strings.descriptions.metrics.byPercet,\n            },\n        ];\n        const definitionsModes = [\n            {\n                name: this.props.strings.modes.byDate,\n                description: this.props.strings.descriptions.modes.byDate,\n            },\n            {\n                name: this.props.strings.modes.byFirst,\n                description: this.props.strings.descriptions.modes.byFirst,\n            },\n            {\n                name: this.props.strings.modes.byFirst100,\n                description: this.props.strings.descriptions.modes.byFirst100,\n            },\n        ];\n        const definitionsScales = [\n            {\n                name: this.props.strings.scaleTypes.linear,\n                description: this.props.strings.descriptions.scales.linear,\n            },\n            {\n                name: this.props.strings.scaleTypes.logarithmic,\n                description: this.props.strings.descriptions.scales.logarithmic,\n            },\n        ];\n        return (h(\"section\", { className: `${fullSize}` },\n            h(AboutList, { title: this.props.strings.descriptions.titles.series, list: definitionsSeries }),\n            h(AboutList, { title: this.props.strings.descriptions.titles.modes, list: definitionsModes }),\n            h(AboutList, { title: this.props.strings.descriptions.titles.scales, list: definitionsScales }),\n            h(AboutList, { title: this.props.strings.descriptions.titles.metrics, list: definitionsMetrics }),\n            h(Menu, { config: this.props.menu })));\n    }\n}\n","import Router, { route } from 'preact-router';\nimport { Component, h, render as preactRender } from 'preact';\nimport { TimeVsCount } from './features/feature-time-vs-counts/time-vs-counts';\nimport { createState, loadState, saveState } from './state';\nimport { selectData, fetchData } from '../data';\nimport { log } from '../utility';\nimport { LearningTable } from './features/learning-table';\nimport { Header } from './components/header';\nimport { fullSize, flexCol } from './style';\nimport { ConfirmedVsRecent } from './features/confirmed-vs-recent';\nimport { Geography } from './features/geography';\nimport { About } from './features/about';\nimport './global.css';\nclass AppUi extends Component {\n    constructor(props) {\n        super();\n        let state = loadState(props.strings);\n        if (!state) {\n            log(props.strings.app.log.noState);\n            state = createState(props.strings);\n        }\n        this.state = state;\n        this.selectAndUpdate();\n        this.menu = {\n            labels: props.strings.app.menu.map(s => s.name),\n            onClick: (selected) => {\n                const routePath = this.props.strings.app.menu[selected].route ||\n                    this.props.strings.app.menu[0].route;\n                this.setState(Object.assign(Object.assign({}, this.state), { currentSeries: [], routePath }));\n                this.menu.selected = selected;\n                route(routePath);\n                this.selectAndUpdate();\n            },\n            selected: props.strings.app.menu.reduce((s, n, i) => {\n                if (n.route === this.state.routePath) {\n                    return i;\n                }\n                return s;\n            }, 0),\n        };\n    }\n    updateSelectState({ countries, series, }) {\n        this.setState(Object.assign(Object.assign({}, this.state), { countries, currentSeries: series }));\n    }\n    selectAndUpdate() {\n        this.state.dataPromise\n            .then(({ timeSeries }) => {\n            this.setState(Object.assign(Object.assign({}, this.state), { data: timeSeries }));\n            return selectData(this.props.cache, this.state);\n        })\n            .then(this.updateSelectState.bind(this))\n            .then(() => saveState(this.state));\n    }\n    timeVsCounts(tvc) {\n        this.setState(Object.assign(Object.assign({}, this.state), { timeVsCountsState: tvc }));\n        this.selectAndUpdate();\n    }\n    confirmedVsRecent(cvr) {\n        this.setState(Object.assign(Object.assign({}, this.state), { confirmedVsRecentState: cvr }));\n        this.selectAndUpdate();\n    }\n    tableState(tableState) {\n        this.setState(Object.assign(Object.assign({}, this.state), { tableState }));\n        this.selectAndUpdate();\n    }\n    reload() {\n        this.props.reset();\n        this.setState(Object.assign(Object.assign({}, this.state), { dataPromise: fetchData(this.props.strings).then(d => {\n                this.selectAndUpdate();\n                return d;\n            }) }));\n    }\n    clearCountries() {\n        this.setState(Object.assign(Object.assign({}, this.state), { countryKeys: [] }));\n        this.selectAndUpdate();\n    }\n    onSeirStateChange(seirState) {\n        this.setState(Object.assign(Object.assign({}, this.state), { seirState }));\n        this.selectAndUpdate();\n    }\n    selectCountry(countryKey) {\n        if (this.state.countryKeys.indexOf(countryKey) > -1) {\n            this.setState(Object.assign(Object.assign({}, this.state), { countryKeys: this.state.countryKeys.filter(i => i !== countryKey) }));\n        }\n        else {\n            this.setState(Object.assign(Object.assign({}, this.state), { countryKeys: this.state.countryKeys.concat([countryKey]) }));\n        }\n        this.selectAndUpdate();\n    }\n    selectCountries(countryKeys) {\n        this.setState(Object.assign(Object.assign({}, this.state), { countryKeys }));\n        this.selectAndUpdate();\n    }\n    render() {\n        return (h(\"div\", { className: `${fullSize} ${flexCol}` },\n            h(Header, { strings: this.props.strings }),\n            h(Router, null,\n                h(TimeVsCount, { path: this.props.strings.app.menu[0].route, clearCountries: this.clearCountries.bind(this), countries: this.state.countries, countryKeys: this.state.countryKeys, currentSeries: this.state.currentSeries, menu: this.menu, onChange: this.timeVsCounts.bind(this), onSeirStateChange: this.onSeirStateChange.bind(this), key: \"0\", reload: this.reload.bind(this), seirState: this.state.seirState, selectCountry: this.selectCountry.bind(this), selectCountries: this.selectCountries.bind(this), state: this.state.timeVsCountsState, strings: this.props.strings }),\n                h(ConfirmedVsRecent, { path: this.props.strings.app.menu[1].route, clearCountries: this.clearCountries.bind(this), countries: this.state.countries, countryKeys: this.state.countryKeys, currentSeries: this.state.currentSeries, key: \"1\", menu: this.menu, onChange: this.confirmedVsRecent.bind(this), selectCountry: this.selectCountry.bind(this), selectCountries: this.selectCountries.bind(this), state: this.state.confirmedVsRecentState, strings: this.props.strings }),\n                h(LearningTable, { path: this.props.strings.app.menu[2].route, countryKeys: this.state.countryKeys, key: \"2\", onChange: this.tableState.bind(this), menu: this.menu, state: this.state.tableState, selectCountry: this.selectCountry.bind(this), strings: this.props.strings, timeSeries: this.state.data }),\n                h(Geography, { path: this.props.strings.app.menu[3].route, key: \"3\", menu: this.menu, strings: this.props.strings, timeSeries: this.state.data }),\n                h(About, { path: this.props.strings.app.menu[4].route, key: \"4\", strings: this.props.strings, menu: this.menu }))));\n    }\n}\nexport function render(root, strings) {\n    let cache = {};\n    preactRender(h(AppUi, { cache: cache, reset: () => (cache = {}), strings: strings }), root);\n}\n","import dl from '../i18n/en.json';\nimport { objReduce, isString, noop } from '@ch1/utility';\nexport const defaultLanguage = convertJsonToInjectedJson(dl);\nexport function getLanguage(lang) {\n    return import(`../i18n/${lang}.json`).then(s => convertJsonToInjectedJson(s));\n}\nfunction convertJsonToInjectedJson(strings) {\n    return objReduce(strings, (s, node, key) => {\n        if (isString(node)) {\n            Object.defineProperty(s, key, {\n                get: () => node,\n                set: noop,\n            });\n        }\n        else {\n            s[key] = convertJsonToInjectedJson(node);\n        }\n        s[key] = node;\n        return s;\n    }, {});\n}\n","import { render } from './ui/app-ui';\nimport { fullSize } from './ui/style';\nimport { getSavedLanguage, saveLanguage } from './ui/state';\nimport { log } from './utility';\nimport { defaultLanguage, getLanguage } from './i18n';\nmain().catch(e => log(e.message));\nfunction main() {\n    const lang = getSavedLanguage() || 'en';\n    return getLanguage(lang)\n        .then(strings => {\n        const element = window.document.createElement('section');\n        element.className = `${fullSize}`;\n        if (!element) {\n            throw new Error(strings.errors.bootstrap);\n        }\n        window.document.body.appendChild(element);\n        render(element, strings);\n    })\n        .catch(e => {\n        log(defaultLanguage.i18n.part1, lang, defaultLanguage.i18n.part2, `(${e.message})`);\n        saveLanguage('');\n        return new Promise((resolve, reject) => {\n            setTimeout(() => {\n                main()\n                    .then(resolve)\n                    .catch(reject);\n            }, 100);\n        });\n    });\n}\n"],"sourceRoot":""}